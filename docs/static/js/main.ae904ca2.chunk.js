(this.webpackJsonpdmt2=this.webpackJsonpdmt2||[]).push([[0],{67:function(e,t,n){e.exports=n(98)},77:function(e,t,n){},78:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(9),r=n.n(l),u=n(8),i=n(23),o=n(15),s=n(6),m=(n(76),n(14)),d=(n(77),n(121)),E=n(122),p=n(47),h=n.n(p),b=n(59),f=n.n(b),v=n(62),g=n.n(v),O=n(57),C=n.n(O),j=n(60),_=n.n(j),w=n(61),y=n.n(w),M=(n(78),function(e){var t=Object(a.useState)({isMenuCollapsed:e.isMenuCollapsed}),n=Object(s.a)(t,2),l=n[0],r=n[1],u=function(e,t,n){return c.a.createElement("div",{className:"menu-list__item"},c.a.createElement(i.b,{to:e,className:"menu-list__link"},c.a.createElement("div",{className:"menu-list__static-item"},t),c.a.createElement("div",{className:l.isMenuCollapsed?"menu-list__text collapsed":"menu-list__text"},c.a.createElement("span",null,n))))},m=function(){return c.a.createElement("div",{className:"menu-list"},c.a.createElement("div",null,u("/",c.a.createElement(C.a,null),"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),u("/adventure/create",c.a.createElement(f.a,null),"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"),u("/adventure/list",c.a.createElement(_.a,null),"\u041c\u043e\u0438 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),u("/adventure/view/Djadame/character/create",c.a.createElement(y.a,null),"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430"),u("/adventure/view/Djadame/character/view/a_a",c.a.createElement(g.a,null),"a_a char")),c.a.createElement("div",null,u("/signin",c.a.createElement(h.a,null),"\u0412\u0445\u043e\u0434"),u("/signup",c.a.createElement(h.a,null),"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),!e.isMobileMenuView&&c.a.createElement("div",{className:"menu-list__item switch"},c.a.createElement(E.a,{checked:!l.isMenuCollapsed,onChange:function(){return r(Object(o.a)({},l,{isMenuCollapsed:!l.isMenuCollapsed}))}}),c.a.createElement("span",{className:l.isMenuCollapsed?"menu-list__text collapsed":"menu-list__text"},"COLLAPSE MENU"))))};return e.isMobileMenuView?c.a.createElement(d.a,{open:e.isMenuOpened,onClose:e.onClose},c.a.createElement("div",{className:"side-menu side-menu--mobile",onClick:e.onClose,onKeyDown:e.onClose},m())):c.a.createElement("div",{className:"side-menu side-menu--desktop ".concat(l.isMenuCollapsed?"collapsed":""," ").concat(e.isMenuOpened?"":"closed")},m())}),S=n(37),N=n.n(S),k=n(22),A=n.n(k);n(82),n(84);A.a.initializeApp({apiKey:"AIzaSyCBJLGUwm3Gudef3OmMpTr4_kuAKojdHKI",authDomain:"dnd-master-tools.firebaseapp.com",databaseURL:"https://dnd-master-tools.firebaseio.com",projectId:"dnd-master-tools",storageBucket:"dnd-master-tools.appspot.com",messagingSenderId:"338033505662"});var R=A.a,U=(n(88),{name:"",description:"",image:"",playersList:[],dungeonMaster:"",charactersList:[],notes:[]}),P=Object(u.b)(null,null)((function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],l=t[1],r=Object(a.useState)([""]),u=Object(s.a)(r,2),i=u[0],d=u[1],E=Object(m.e)(),p=[];return c.a.createElement("div",{className:"adventure-create"},c.a.createElement("span",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f*"),c.a.createElement("input",{onChange:function(e){return U.name=e.target.value}}),c.a.createElement("span",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),c.a.createElement("textarea",{onChange:function(e){return U.description=e.target.value}}),c.a.createElement("span",null,"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),c.a.createElement("input",{placeholder:"url",onChange:function(e){return U.image=e.target.value}}),c.a.createElement("span",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430"),c.a.createElement("div",null,c.a.createElement("input",{placeholder:"email",value:n,onChange:function(e){l(e.target.value)}}),c.a.createElement("button",{onClick:function(){U.playersList.push(n),l("")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),c.a.createElement("h4",null,"\u0418\u0433\u0440\u043e\u043a\u0438*:"),U.playersList.map((function(e){return c.a.createElement("span",null,e)})),c.a.createElement("h4",null,"Dungeon Master*:"),U.playersList[0],c.a.createElement("button",{onClick:function(){var e;0===U.name.length&&p.push("Adventure name should not be empty"),0===U.playersList.length&&p.push("Players list should not be empty"),d(p),console.log("[currentErrors]:",p),0===p.length&&(U.dungeonMaster=U.playersList[0],(e=U,A.a.firestore().collection("adventures").doc(e.name).set(Object(o.a)({},e))).then((function(e){return console.log("[AdventureCreate response]:",e)})),E.push("/adventure/list"))}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"),c.a.createElement("span",null,"Errors:"),i.map((function(e){return c.a.createElement("span",null,e)})))})),T=(n(89),Object(u.b)(null,null)((function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],l=t[1];return A.a.firestore().collection("adventures").get().then((function(e){return e.docs.map((function(e){return e.data()}))})).then((function(e){l(e)})),Object(a.useEffect)((function(){})),c.a.createElement("div",{className:"adventure-list"},"Advenure List here",n.map((function(e){return c.a.createElement(i.b,{to:"view/".concat(e.name)},e.name)})))}))),D=(n(90),Object(u.b)(null,null)((function(e){var t=e.match.params.id,n=Object(m.e)();return c.a.createElement("div",{className:"adventure-view"},c.a.createElement("span",null,"Adventure id ",t),c.a.createElement(i.b,{to:"".concat(t,"/character/view/a_a")},"a_a"),c.a.createElement("button",{onClick:function(){return n.push("/adventure/view/".concat(t,"/character/create"))}},"Create character"))}))),L=(n(91),Object(u.b)(null,null)((function(e){var t=Object(a.useState)(!0),n=Object(s.a)(t,2),l=n[0],r=n[1];return Object(a.useEffect)((function(){console.log("[CharacterCreate WORKS!!!]",null)}),[l]),c.a.createElement("div",{className:"character-create"},c.a.createElement("button",{onClick:function(){return r(!l)}},"CharacterCreate WORKS!!!"))}))),W=(n(92),Object(u.b)(null,null)((function(e){var t=Object(a.useState)({character:void 0}),n=Object(s.a)(t,2),l=n[0],r=n[1];return Object(a.useEffect)((function(){(function(e){var t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N.a.awrap(A.a.firestore().collection("playerCharacters").doc(e).get());case 2:return t=n.sent,n.abrupt("return",t.data());case 4:case"end":return n.stop()}}))})(e.match.params.id).then((function(e){e&&(r((function(t){return Object(o.a)({},t,{character:e})})),console.log("[characterData]",e))}))}),[e.match.params.id]),console.log("[state.character]",l.character),c.a.createElement("div",{className:"character-view"},l.character?c.a.createElement("div",null,c.a.createElement("img",{style:{width:100},src:l.character.about.description.imageUrl,alt:""}),c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",{key:1},c.a.createElement("td",null,"playerName"),c.a.createElement("td",null,l.character.about.info.playerName)),c.a.createElement("tr",{key:2},c.a.createElement("td",null,"characterName"),c.a.createElement("td",null,l.character.about.info.characterName)),c.a.createElement("tr",{key:3},c.a.createElement("td",null,"race"),c.a.createElement("td",null,l.character.about.info.race)),c.a.createElement("tr",{key:4},c.a.createElement("td",null,"subRace"),c.a.createElement("td",null,l.character.about.info.subRace)),c.a.createElement("tr",{key:5},c.a.createElement("td",null,"sex"),c.a.createElement("td",null,l.character.about.description.sex)),c.a.createElement("tr",{key:6},c.a.createElement("td",null,"age"),c.a.createElement("td",null,l.character.about.description.age.total)),c.a.createElement("tr",{key:7},c.a.createElement("td",null,"height"),c.a.createElement("td",null,l.character.about.description.height)),c.a.createElement("tr",{key:8},c.a.createElement("td",null,"weight"),c.a.createElement("td",null,l.character.about.description.weight)),c.a.createElement("tr",{key:9},c.a.createElement("td",null,"background"),c.a.createElement("td",null,l.character.about.info.background))))):c.a.createElement("div",null,"Loading . . ."))}))),I=(n(93),{SET_USER:"SET_USER"}),x=I,B=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:e,payload:t}}(x.SET_USER,e)},K=function(e){return function(t){var n;return N.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:n={email:e.email},t(B(n));case 2:case"end":return a.stop()}}))}},G=Object(u.b)((function(e){return{userData:e.userData}}),{setUser:K})((function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),l=n[0],r=n[1],u=document.getElementsByTagName("body")[0].clientWidth,i=document.getElementsByTagName("body")[0].clientHeight;return Object(a.useEffect)((function(){e.setUser({email:l})}),[e,l]),R.auth().onAuthStateChanged((function(){var e;r((null===(e=R.auth().currentUser)||void 0===e?void 0:e.email)||"")})),c.a.createElement("div",{className:"home"},c.a.createElement("h1",null,"Current user - [",l,"]"),c.a.createElement("button",{onClick:function(){return alert(e.userData.email)}},"Alert user data email from store"),c.a.createElement("button",{onClick:function(){return R.auth().signOut()}},"Sign out"),c.a.createElement("button",{onClick:function(){return alert(u)}},"Show client width"),c.a.createElement("button",{onClick:function(){return alert(i)}},"Show client height"))})),z=(n(94),Object(u.b)(null,{setUser:K})((function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),l=n[0],r=n[1],u=Object(a.useState)(""),i=Object(s.a)(u,2),o=i[0],d=i[1],E=Object(a.useState)([]),p=Object(s.a)(E,2),h=p[0],b=p[1],f=Object(m.e)();return c.a.createElement("div",{className:"sign-in"},c.a.createElement("span",null,"E-mail"),c.a.createElement("input",{value:l,onChange:function(e){var t=e.target.value;r(t)}}),c.a.createElement("span",null,"Password"),c.a.createElement("input",{type:"password",value:o,onChange:function(e){var t=e.target.value;d(t)}}),h.map((function(e){return c.a.createElement("span",null,e)})),c.a.createElement("button",{onClick:function(){0===h.length&&function(e,t){return A.a.auth().signInWithEmailAndPassword(e,t).catch((function(e){return e}))}(l,o).then((function(t){if(t.message&&b([t.message]),t.user){var n={email:t.user.email};b(["User successfully signed in"]),e.setUser(n),f.push("/")}}))}},"Sign Up"))}))),H=(n(95),Object(u.b)(null,{setUser:K})((function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),l=n[0],r=n[1],u=Object(a.useState)(""),i=Object(s.a)(u,2),o=i[0],d=i[1],E=Object(a.useState)([]),p=Object(s.a)(E,2),h=p[0],b=p[1],f=Object(m.e)();return Object(a.useEffect)((function(){!function(){var e=[];/\S+@\S+\.\S+/.test(String(l).toLowerCase())||e.push("The email address is badly formatted."),o.length<6&&e.push("Password should be at least 6 characters."),b(e),console.log("[validationErrors]:",e)}()}),[l,o]),c.a.createElement("div",{className:"sign-up"},c.a.createElement("span",null,"E-mail"),c.a.createElement("input",{value:l,onChange:function(e){var t=e.target.value;r(t)}}),c.a.createElement("span",null,"Password"),c.a.createElement("input",{type:"password",value:o,onChange:function(e){var t=e.target.value;d(t)}}),h.map((function(e){return c.a.createElement("span",null,e)})),c.a.createElement("button",{onClick:function(){0===h.length&&function(e,t){return A.a.auth().createUserWithEmailAndPassword(e,t).catch((function(e){return e}))}(l,o).then((function(t){if(t.message&&b([t.message]),t.user){var n={email:t.user.email};b(["User successfully created and signed in"]),e.setUser(n),f.push("/")}}))}},"Sign Up"))}))),J=(n(96),Object(u.b)(null,null)((function(e){return c.a.createElement("div",{className:"game-menu",style:{height:30}},c.a.createElement("button",{className:"game-menu__button",onClick:function(){}},"1"),c.a.createElement("button",{className:"game-menu__button",onClick:function(){}},"2"),c.a.createElement("button",{className:"game-menu__button",onClick:e.onMenuButtonClick},"Menu"),c.a.createElement("button",{className:"game-menu__button",onClick:function(){}},"3"),c.a.createElement("button",{className:"game-menu__button",onClick:function(){}},"4"))}))),V=function(){var e=Object(a.useState)({menu:{isMobileMenu:!0,isMenuCollapsed:!1,isMenuOpened:!1},clientWindowResolution:{width:0,height:0}}),t=Object(s.a)(e,2),n=t[0],l=t[1],r=function(){var e=document.getElementsByTagName("body")[0];l({clientWindowResolution:{width:e.clientWidth,height:e.clientHeight},menu:{isMenuOpened:!(e.clientWidth<1024),isMenuCollapsed:!1,isMobileMenu:e.clientWidth<1024}})};return Object(a.useEffect)((function(){return window.onresize=r,r(),function(){window.onresize=null}}),[]),c.a.createElement("div",{className:"app",style:{width:n.clientWindowResolution.width,height:n.clientWindowResolution.height}},c.a.createElement(M,{isMobileMenuView:n.menu.isMobileMenu,isMenuCollapsed:n.menu.isMenuCollapsed,isMenuOpened:n.menu.isMenuOpened,onClose:function(){return l(Object(o.a)({},n,{menu:Object(o.a)({},n.menu,{isMenuOpened:!1})}))}}),c.a.createElement("div",{style:{width:n.clientWindowResolution.width,height:n.clientWindowResolution.height-30},className:"app__content"},c.a.createElement(m.a,{exact:!0,path:"/",component:G}),c.a.createElement(m.a,{path:"/signin",component:z}),c.a.createElement(m.a,{path:"/signup",component:H}),c.a.createElement(m.a,{path:"/adventure/create",component:P}),c.a.createElement(m.a,{path:"/adventure/list",component:T}),c.a.createElement(m.a,{exact:!0,path:"/adventure/view/:id",component:D}),c.a.createElement(m.a,{path:"/adventure/view/:id/character/create",component:L}),c.a.createElement(m.a,{path:"/adventure/view/:id/character/view/:id",component:W})),n.menu.isMobileMenu?c.a.createElement(J,{onMenuButtonClick:function(){l(Object(o.a)({},n,{menu:Object(o.a)({},n.menu,{isMenuOpened:!n.menu.isMenuOpened})}))},clientWindowResolution:n.clientWindowResolution}):null)},Y=(n(97),n(26)),q=n(63),F=n(64),Q=n.n(F),X=n(65),Z={email:""},$=Object(Y.combineReducers)({userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0,n=I.SET_USER;return t.type===n?Object(o.a)({},t.payload):e}}),ee=[X.a],te=Object({NODE_ENV:"production",PUBLIC_URL:"/dmt2",REACT_APP_API_KEY:"AIzaSyCBJLGUwm3Gudef3OmMpTr4_kuAKojdHKI",REACT_APP_AUTH_DOMAIN:"dnd-master-tools.firebaseapp.com",REACT_APP_DATABASE_URL:"https://dnd-master-tools.firebaseio.com",REACT_APP_MESSAGING_SENDER_ID:"338033505662",REACT_APP_PROJECT_ID:"dnd-master-tools",REACT_APP_STORAGE_BUCKET:"dnd-master-tools.appspot.com"}).REACT_APP_NODE_ENV;te&&"development"===te&&ee.push(Q.a);var ne=Object(Y.createStore)($,{},Object(q.composeWithDevTools)(Y.applyMiddleware.apply(void 0,ee)));r.a.render(c.a.createElement((function(){return c.a.createElement(u.a,{store:ne},c.a.createElement(i.a,{basename:"/dmt2"},c.a.createElement(V,null)))}),null),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.ae904ca2.chunk.js.map