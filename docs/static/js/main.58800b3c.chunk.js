(this.webpackJsonpdmt2=this.webpackJsonpdmt2||[]).push([[0],{197:function(e,t,a){e.exports=a(352)},206:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){},349:function(e,t,a){},350:function(e,t,a){},352:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(34),i=a.n(l),c=a(32),o=a(65),u=(a(206),a(73)),s=a(161),m=a(162),d=a.n(m),p=a(163),v=a(60),f={SET_USER:"SET_USER"},h={GET_RESOLUTION:"GET_RESOLUTION"},E={email:""},b={width:0,height:0,isMobile:!1,isLandscape:!1},g=Object(u.combineReducers)({userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=f.SET_USER;return t.type===a?Object(v.a)({},t.payload):e},windowData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,a=h.GET_RESOLUTION;return t.type===a?Object(v.a)({},t.payload):e}}),y=[p.a],w=Object({NODE_ENV:"production",PUBLIC_URL:"/dmt2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_KEY:"AIzaSyCBJLGUwm3Gudef3OmMpTr4_kuAKojdHKI",REACT_APP_AUTH_DOMAIN:"dnd-master-tools.firebaseapp.com",REACT_APP_DATABASE_URL:"https://dnd-master-tools.firebaseio.com",REACT_APP_MESSAGING_SENDER_ID:"338033505662",REACT_APP_PROJECT_ID:"dnd-master-tools",REACT_APP_STORAGE_BUCKET:"dnd-master-tools.appspot.com"}).REACT_APP_NODE_ENV;w&&"development"===w&&y.push(d.a);var k=Object(u.createStore)(g,{},Object(s.composeWithDevTools)(u.applyMiddleware.apply(void 0,y))),O=a(31),j=(a(207),a(30)),S=a(55),C=a.n(S),I=a(81),N=a(52),_=a.n(N);a(208),a(210);_.a.initializeApp({apiKey:"AIzaSyCBJLGUwm3Gudef3OmMpTr4_kuAKojdHKI",authDomain:"dnd-master-tools.firebaseapp.com",databaseURL:"https://dnd-master-tools.firebaseio.com",projectId:"dnd-master-tools",storageBucket:"dnd-master-tools.appspot.com",messagingSenderId:"338033505662"});var x=function(){var e=Object(I.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.firestore().collection("adventures").doc(t).get();case 2:return a=e.sent,e.abrupt("return",a.data());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(I.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.firestore().collection("playerCharacters").doc(t).get();case 2:return a=e.sent,e.abrupt("return",a.data());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=_.a,A=(a(213),f),M=h,P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:e,payload:t}},U=function(e){return P(A.SET_USER,e)},L=function(e){return function(){var t=Object(I.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={email:e.email},a(U(n));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},R=Object(c.b)((function(e){return{userData:e.userData}}),{setUser:L})((function(e){var t=e.setUser,a=Object(n.useState)(""),l=Object(O.a)(a,2),i=l[0],c=l[1],o=document.getElementsByTagName("body")[0].clientWidth,u=document.getElementsByTagName("body")[0].clientHeight;return Object(n.useEffect)((function(){t({email:i})}),[t,i]),T.auth().onAuthStateChanged((function(){var e;c((null===(e=T.auth().currentUser)||void 0===e?void 0:e.email)||"")})),r.a.createElement("div",{className:"home"},r.a.createElement("h1",null,"Current user - [",i,"]"),r.a.createElement("button",{onClick:function(){return alert(e.userData.email)}},"Alert user data email from store"),r.a.createElement("button",{onClick:function(){return T.auth().signOut()}},"Sign out"),r.a.createElement("button",{onClick:function(){return alert(o)}},"Show client width"),r.a.createElement("button",{onClick:function(){return alert(u)}},"Show client height"))})),H=(a(214),Object(c.b)(null,{setUser:L})((function(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)(""),o=Object(O.a)(c,2),u=o[0],s=o[1],m=Object(n.useState)([]),d=Object(O.a)(m,2),p=d[0],v=d[1],f=Object(j.e)();return r.a.createElement("div",{className:"sign-in"},r.a.createElement("span",null,"E-mail"),r.a.createElement("input",{value:l,onChange:function(e){var t=e.target.value;i(t)}}),r.a.createElement("span",null,"Password"),r.a.createElement("input",{type:"password",value:u,onChange:function(e){var t=e.target.value;s(t)}}),p.map((function(e){return r.a.createElement("span",null,e)})),r.a.createElement("button",{onClick:function(){0===p.length&&function(e,t){return _.a.auth().signInWithEmailAndPassword(e,t).catch((function(e){return e}))}(l,u).then((function(t){if(t.message&&v([t.message]),t.user){var a={email:t.user.email};v(["User successfully signed in"]),e.setUser(a),f.push("/")}}))}},"Sign Up"))}))),W=(a(216),Object(c.b)(null,{setUser:L})((function(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)(""),o=Object(O.a)(c,2),u=o[0],s=o[1],m=Object(n.useState)([]),d=Object(O.a)(m,2),p=d[0],v=d[1],f=Object(j.e)(),h=Object(n.useCallback)((function(){var e=[];/\S+@\S+\.\S+/.test(String(l).toLowerCase())||e.push("The email address is badly formatted."),u.length<6&&e.push("Password should be at least 6 characters."),v(e),console.log("[validationErrors]:",e)}),[l,u.length]);return Object(n.useEffect)((function(){h()}),[l,u,h]),r.a.createElement("div",{className:"sign-up"},r.a.createElement("span",null,"E-mail"),r.a.createElement("input",{value:l,onChange:function(e){var t=e.target.value;i(t)}}),r.a.createElement("span",null,"Password"),r.a.createElement("input",{type:"password",value:u,onChange:function(e){var t=e.target.value;s(t)}}),p.map((function(e){return r.a.createElement("span",null,e)})),r.a.createElement("button",{onClick:function(){0===p.length&&function(e,t){return _.a.auth().createUserWithEmailAndPassword(e,t).catch((function(e){return e}))}(l,u).then((function(t){if(t.message&&v([t.message]),t.user){var a={email:t.user.email};v(["User successfully created and signed in"]),e.setUser(a),f.push("/")}}))}},"Sign Up"))}))),B=(a(217),{name:"",description:"",image:"",playersList:[],dungeonMaster:"",charactersList:[],itemsList:[],notes:[],customCounter:1}),F=Object(c.b)(null,null)((function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)([""]),c=Object(O.a)(i,2),o=c[0],u=c[1],s=Object(j.e)(),m=[];return r.a.createElement("div",{className:"adventure-create"},r.a.createElement("span",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f*"),r.a.createElement("input",{onChange:function(e){return B.name=e.target.value}}),r.a.createElement("span",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),r.a.createElement("textarea",{onChange:function(e){return B.description=e.target.value}}),r.a.createElement("span",null,"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),r.a.createElement("input",{placeholder:"url",onChange:function(e){return B.image=e.target.value}}),r.a.createElement("span",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430"),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"email",value:a,onChange:function(e){l(e.target.value)}}),r.a.createElement("button",{onClick:function(){B.playersList.push(a),l("")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),r.a.createElement("h4",null,"\u0418\u0433\u0440\u043e\u043a\u0438*:"),B.playersList.map((function(e){return r.a.createElement("span",null,e)})),r.a.createElement("h4",null,"Dungeon Master*:"),B.playersList[0],r.a.createElement("button",{onClick:function(){var e;0===B.name.length&&m.push("Adventure name should not be empty"),0===B.playersList.length&&m.push("Players list should not be empty"),u(m),console.log("[currentErrors]:",m),0===m.length&&(B.dungeonMaster=B.playersList[0],(e=B,_.a.firestore().collection("adventures").doc(e.name).set(Object(v.a)({},e))).then((function(e){return console.log("[AdventureCreate response]:",e)})),s.push("/adventure/list"))}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"),r.a.createElement("span",null,"Errors:"),o.map((function(e){return r.a.createElement("span",null,e)})))})),K=(a(218),Object(c.b)(null,null)((function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],l=t[1];return _.a.firestore().collection("adventures").get().then((function(e){return e.docs.map((function(e){return e.data()}))})).then((function(e){l(e)})),Object(n.useEffect)((function(){})),r.a.createElement("div",{className:"adventure-list"},"Advenure List here",a.map((function(e){return r.a.createElement(o.b,{to:"view/".concat(e.name)},e.name)})))}))),G=(a(219),Object(c.b)(null,null)((function(e){var t=e.match.params.id,a=Object(j.e)();return r.a.createElement("div",{className:"adventure-view"},r.a.createElement("span",null,"Adventure id ",t),r.a.createElement(o.b,{to:"".concat(t,"/character/view/a_a")},"a_a"),r.a.createElement("button",{onClick:function(){return a.push("/adventure/view/".concat(t,"/character/create"))}},"Create character"))}))),z=(a(220),Object(c.b)(null,null)((function(e){var t=Object(n.useState)(!0),a=Object(O.a)(t,2),l=a[0],i=a[1];return Object(n.useEffect)((function(){console.log("[CharacterCreate WORKS!!!]",null)}),[l]),r.a.createElement("div",{className:"character-create"},r.a.createElement("button",{onClick:function(){return i(!l)}},"CharacterCreate WORKS!!!"),r.a.createElement("input",{type:"text"}))}))),q=(a(221),a(363)),V=function(e){var t=e.info,a=e.description;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{style:{width:"100%",height:100,objectFit:"cover",objectPosition:"50% 25%"},src:a.imageUrl,alt:""}),r.a.createElement(q.a,{title:function(){return"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"},showHeader:!1,pagination:!1,style:{width:"100%"},columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"value",dataIndex:"value",key:"value"}],dataSource:[{key:"playerName",name:"\u0418\u043c\u044f \u0438\u0433\u0440\u043e\u043a\u0430",value:t.playerName},{key:"characterName",name:"\u0418\u043c\u044f \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430",value:t.characterName},{key:"1",name:"\u0420\u0430\u0441\u0441\u0430 (\u043f\u043e\u0434\u0432\u0438\u0434)",value:t.subRace},{key:"2",name:"\u041f\u043e\u043b",value:a.sex},{key:"3",name:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",value:a.age.human},{key:"4",name:"\u0420\u043e\u0441\u0442",value:a.height},{key:"5",name:"\u0412\u0435\u0441",value:a.weight},{key:"6",name:"\u041f\u0440\u0435\u0434\u0438\u0441\u0442\u043e\u0440\u0438\u044f",value:t.background}]}))},J=(a(337),a(97)),Y=a.n(J),Q=a(177),X=a.n(Q),Z=a(179),$=a.n(Z),ee=a(178),te=a.n(ee),ae=a(86),ne=a(123),re=a(69),le=[{name:"generalInfo",caption:"\u041e \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0435"},{name:"attributes",caption:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"},{name:"experience",caption:"\u041a\u043b\u0430\u0441\u0441 \u0438 \u043e\u043f\u044b\u0442"},{name:"proficiency",caption:"\u0412\u043b\u0430\u0434\u0435\u043d\u0438\u0435"},{name:"combat",caption:"\u0411\u043e\u0435\u0432\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"}],ie=[{name:"generalInfo",caption:"\u0412\u0440\u0435\u043c\u044f"},{name:"generalInfo",caption:"\u0417\u0430\u043c\u0435\u0442\u043a\u0438"},{name:"generalInfo",caption:"\u041a\u0432\u0435\u0441\u0442\u044b"},{name:"generalInfo",caption:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438"},{name:"generalInfo",caption:"\u041b\u043e\u0433"}],ce=[{name:"equipment",caption:"\u042d\u043a\u0438\u043f\u0438\u0440\u043e\u0432\u043a\u0430"}],oe=[{name:"generalInfo",caption:"\u0421\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438"},{name:"generalInfo",caption:"\u041d\u0430\u0432\u044b\u043a\u0438"},{name:"generalInfo",caption:"\u0423\u043c\u0435\u043d\u0438\u044f"},{name:"generalInfo",caption:"\u0420\u0438\u0442\u0443\u0430\u043b\u044b"},{name:"generalInfo",caption:"\u0417\u0430\u043a\u043b\u0438\u043d\u0430\u043d\u0438\u044f"}],ue=Object(c.b)(null,null)((function(e){var t=e.windowData,a=t.isLandscape,n=t.isMobile,l=function(t){return r.a.createElement(ae.a,{className:"submenu"},t.map((function(t){return r.a.createElement(ae.a.Item,{key:t.name,onClick:function(){return e.setCharacterViewTab(t.name)},children:t.caption})})))},i=function(e,t,n){return r.a.createElement(ne.a,{key:e,overlay:t,overlayStyle:a?{}:{width:"100%"}},r.a.createElement(re.a,{className:"game-menu__button",children:n}))};return r.a.createElement("div",{className:"game-menu",style:a&&!n?{width:180,flexDirection:"column",justifyContent:"space-between"}:{height:60,flexDirection:"row"}},a&&!n?r.a.createElement(r.a.Fragment,null,l(le),l(ie),l(ce),l(oe)):r.a.createElement(r.a.Fragment,null,i("generalInfoMenu",l(le),r.a.createElement(Y.a,null)),i("journalMenuTabs",l(ie),r.a.createElement(X.a,null)),i("equipmentMenuTabs",l(ce),r.a.createElement(te.a,null)),i("abilitiesMenuTabs",l(oe),r.a.createElement($.a,null))))})),se=function(e){return Math.round((e-.5)/2-5)},me=function(e){var t=e.attributes,a=e.skills;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{title:function(){return"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"},showHeader:!1,pagination:!1,style:{width:"100%"},columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"Count",dataIndex:"count",key:"count"},{title:"Bonus",dataIndex:"bonus",key:"bonus"},{title:"Skills",dataIndex:"skills",key:"skills",render:function(e){return e.map((function(e){return r.a.createElement("div",{style:{color:e.value?"green":""}},e.name)}))}}],dataSource:[{key:"1",name:"\u0421\u0438\u043b\u0430",count:t.strength,bonus:se(t.strength),skills:[{name:"\u0410\u0442\u043b\u0435\u0442\u0438\u043a\u0430",value:a.Athletics}]},{key:"2",name:"\u041b\u043e\u0432\u043a\u043e\u0441\u0442\u044c",count:t.dexterity,bonus:se(t.dexterity),skills:[{name:"\u0410\u043a\u0440\u043e\u0431\u0430\u0442\u0438\u043a\u0430",value:a.Acrobatics},{name:"\u041b\u043e\u0432\u043a\u043e\u0441\u0442\u044c \u0440\u0443\u043a",value:a.SleightOfHand},{name:"\u0421\u043a\u0440\u044b\u0442\u043d\u043e\u0441\u0442\u044c",value:a.Stealth}]},{key:"3",name:"\u0422\u0435\u043b\u043e\u0441\u043b\u043e\u0436\u0435\u043d\u0438\u0435",count:t.constitution,bonus:se(t.constitution),skills:[{name:"\u0412\u044b\u043d\u043e\u0441\u043b\u0438\u0432\u043e\u0441\u0442\u044c",value:a.Endurance}]},{key:"4",name:"\u0418\u043d\u0442\u0435\u043b\u043b\u0435\u043a\u0442",count:t.intelligence,bonus:se(t.intelligence),skills:[{name:"\u0410\u043d\u0430\u043b\u0438\u0437",value:a.Investigation},{name:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",value:a.History},{name:"\u041c\u0430\u0433\u0438\u044f",value:a.Arcana},{name:"\u041f\u0440\u0438\u0440\u043e\u0434\u0430",value:a.Nature},{name:"\u0420\u0435\u043b\u0438\u0433\u0438\u044f",value:a.Religion}]},{key:"5",name:"\u041c\u0443\u0434\u0440\u043e\u0441\u0442\u044c",count:t.wisdom,bonus:se(t.wisdom),skills:[{name:"\u0412\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",value:a.Perception},{name:"\u0412\u044b\u0436\u0438\u0432\u0430\u043d\u0438\u0435",value:a.Survival},{name:"\u041c\u0435\u0434\u0438\u0446\u0438\u043d\u0430",value:a.Medicine},{name:"\u041f\u0440\u043e\u043d\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",value:a.Insight},{name:"\u0423\u0445\u043e\u0434 \u0437\u0430 \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u043c\u0438",value:a.AnimalHandling}]},{key:"6",name:"\u0425\u0430\u0440\u0438\u0437\u043c\u0430",count:t.charisma,bonus:se(t.charisma),skills:[{name:"\u0412\u044b\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435",value:a.Performance},{name:"\u0417\u0430\u043f\u0443\u0433\u0438\u0432\u0430\u043d\u0438\u0435",value:a.Intimidation},{name:"\u041e\u0431\u043c\u0430\u043d",value:a.Deception},{name:"\u0423\u0431\u0435\u0436\u0434\u0435\u043d\u0438\u0435",value:a.Persuasion}]}]}))},de=function(e){var t=e.classes,a=e.action,n=e.info;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{title:function(){return"\u041a\u043b\u0430\u0441\u0441"},showHeader:!1,pagination:!1,style:{width:"100%"},columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"Level",dataIndex:"level",key:"level"}],dataSource:t.map((function(e){return{key:e.name,name:e.name,level:e.level}}))}),r.a.createElement(q.a,{title:function(){return"\u0427\u0435\u0440\u0442\u044b"},showHeader:!1,pagination:!1,style:{width:"100%"},columns:[{title:"Name",dataIndex:"name",key:"name"}],dataSource:n.feats.length?n.feats.map((function(e){return{key:e,name:e}})):[{key:"feat",name:"\u041d\u0435\u0442"}]}),r.a.createElement(q.a,{title:function(){return"\u0414\u0440\u0443\u0433\u043e\u0435"},showHeader:!1,pagination:!1,style:{width:"100%"},columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"Value",dataIndex:"value",key:"value"}],dataSource:[{key:"exp",name:"\u041e\u043f\u044b\u0442",value:a.experience},{key:"bonus",name:"\u0411\u043e\u043d\u0443\u0441 \u043c\u0430\u0441\u0442\u0435\u0440\u0441\u0442\u0432\u0430",value:a.bonus},{key:"inspiration",name:"\u0412\u0434\u043e\u0445\u043d\u043e\u0432\u0435\u043d\u0438\u0435",value:a.inspiration?"\u0415\u0441\u0442\u044c":"\u041d\u0435\u0442"}]}))},pe=function(e){var t=e.proficiency;return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement(q.a,{title:function(){return"\u042f\u0437\u044b\u043a\u0438"},showHeader:!1,pagination:!1,style:{width:"50%",marginBottom:16},columns:[{title:"Name",dataIndex:"name",key:"name"}],dataSource:t.languages.length?t.languages.map((function(e){return{key:e,name:e}})):[{key:"feat",name:"\u041d\u0435\u0442"}]}),r.a.createElement(q.a,{title:function(){return"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b"},showHeader:!1,pagination:!1,style:{width:"50%"},columns:[{title:"Name",dataIndex:"name",key:"name"}],dataSource:t.tools.length?t.tools.map((function(e){return{key:e,name:e}})):[{key:"feat",name:"\u041d\u0435\u0442"}]}),r.a.createElement(q.a,{title:function(){return"\u041e\u0440\u0443\u0436\u0438\u0435"},showHeader:!1,pagination:!1,style:{width:"50%"},columns:[{title:"Name",dataIndex:"name",key:"name"}],dataSource:t.weapons.length?t.weapons.map((function(e){return{key:e,name:e}})):[{key:"feat",name:"\u041d\u0435\u0442"}]}),r.a.createElement(q.a,{title:function(){return"\u0414\u043e\u0441\u043f\u0435\u0445\u0438"},showHeader:!1,pagination:!1,style:{width:"50%"},columns:[{title:"Name",dataIndex:"name",key:"name"}],dataSource:t.armor.length?t.armor.map((function(e){return{key:e,name:e}})):[{key:"feat",name:"\u041d\u0435\u0442"}]}))},ve=function(e){var t=e.action,a=e.attributes,n=e.stats,l=e.effects;return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement(q.a,{title:function(){return"\u0411\u043e\u0435\u0432\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438"},showHeader:!1,pagination:!1,style:{width:"100%"},columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"value",dataIndex:"value",key:"value"}],dataSource:[{key:"passiveWisdom",name:"\u041f\u0430\u0441\u0441\u0438\u0432\u043d\u0430\u044f \u043c\u0443\u0434\u0440\u043e\u0441\u0442\u044c",value:10+se(a.wisdom)},{key:"armour",name:"\u041a\u043b\u0430\u0441 \u0434\u043e\u0441\u043f\u0435\u0445\u0430",value:t.armorClass},{key:"initiative",name:"\u0411\u043e\u043d\u0443\u0441 \u0438\u043d\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u044b",value:n.initiative},{key:"speed",name:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c",value:n.speed},{key:"size",name:"\u0420\u0430\u0437\u043c\u0435\u0440",value:n.size},{key:"darkVision",name:"\u0422\u0435\u043c\u043d\u043e\u0435 \u0437\u0440\u0435\u043d\u0438\u0435",value:n.darkVision}]}),r.a.createElement(q.a,{title:function(){return"\u0425\u0438\u0442\u043f\u043e\u0438\u043d\u0442\u044b"},showHeader:!1,pagination:!1,style:{width:"50%"},columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"value",dataIndex:"value",key:"value"}],dataSource:[{key:"hitPoints.max",name:"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c",value:t.hitPoints.max},{key:"hitPoints.temp",name:"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435",value:t.hitPoints.temp},{key:"hitPoints.current",name:"\u0422\u0435\u043a\u0443\u0449\u0438\u0435",value:t.hitPoints.current}]}),r.a.createElement(q.a,{title:function(){return"\u0421\u043f\u0430\u0441\u0431\u0440\u043e\u0441\u043a\u0438 \u043e\u0442 \u0441\u043c\u0435\u0440\u0442\u0438"},showHeader:!1,pagination:!1,style:{width:"50%"},columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"value",dataIndex:"value",key:"value"}],dataSource:[{key:"deathSaves.successes",name:"\u0423\u0441\u043f\u0435\u0445",value:t.deathSaves.successes},{key:"deathSaves.failures",name:"\u041f\u0440\u043e\u0432\u0430\u043b",value:t.deathSaves.failures}]}),r.a.createElement(q.a,{title:function(){return"\u0411\u043e\u043d\u0443\u0441\u044b"},showHeader:!1,pagination:!1,style:{width:"50%"},columns:[{title:"Name",dataIndex:"name",key:"name"},{render:function(e){return e.value.map((function(e){return"".concat(e,", ")}))}}],dataSource:[{key:"savingThrows",name:"\u0421\u043f\u0430\u0441\u0431\u0440\u043e\u0441\u043a\u0438",value:l.savingThrows},{key:"resistance",name:"\u0421\u043e\u043f\u0440\u043e\u0442\u0438\u0432\u043b\u0435\u043d\u0438\u0435",value:l.resistance},{key:"immunity",name:"\u0418\u043c\u0443\u043d\u0438\u0442\u0435\u0442\u044b",value:l.immunity}]}))},fe=a(365),he=a(364),Ee=a(122),be=a.n(Ee),ge=(a(338),fe.a.TextArea),ye=function(e){e.equipment;var t=Object(n.useState)(),a=Object(O.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)(!1),o=Object(O.a)(c,2),u=o[0],s=o[1];Object(n.useEffect)((function(){x("Djadame").then((function(e){return i(e)}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"openButtonWrap"},r.a.createElement("div",{className:"openButton ".concat(u?"active":""),onClick:function(){s(!u)}},r.a.createElement(be.a,null))),u&&r.a.createElement(he.a,{className:"addItemSection",name:"addItem",onFinish:function(e){if(l){var t=l;t.customCounter++;var a={id:"DjadameCustomItem".concat(t.customCounter),cost:e.cost||0,description:{en:"",ru:e.description||""},name:{en:"",ru:e.name},rarity:"common",type:"itemsPack",weight:0,count:e.count};t.itemsList.push(a),i(t),s(!1),n="Djadame",r=l,console.log(r),_.a.firestore().collection("adventures").doc(n).set(r)}var n,r},onFinishFailed:function(e){console.log(e)}},r.a.createElement(he.a.Item,{name:"name",rules:[{required:!0,message:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"}]},r.a.createElement(fe.a,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430"})),r.a.createElement(he.a.Item,{name:"description"},r.a.createElement(ge,{placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430",autoSize:!0})),r.a.createElement("div",{className:"addItemFooter"},r.a.createElement(he.a.Item,{name:"count"},r.a.createElement(fe.a,{placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})),r.a.createElement(he.a.Item,{name:"cost"},r.a.createElement(fe.a,{placeholder:"\u0426\u0435\u043d\u0430"})),r.a.createElement(he.a.Item,null,r.a.createElement(re.a,{type:"primary",htmlType:"submit"},"Add")))),r.a.createElement(q.a,{title:function(){return"\u0418\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c"},showHeader:!0,pagination:!1,style:{width:"100%"},columns:[{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name",sorter:function(e,t){return e.name[0]>t.name[0]?1:-1}},{title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",dataIndex:"count",key:"count",sorter:function(e,t){return e.count&&t.count?e.count-t.count:0}}],expandedRowRender:function(e){return r.a.createElement(r.a.Fragment,null,e.cost&&0!==e.cost?r.a.createElement("p",null,"\u0426\u0435\u043d\u0430 ".concat(Math.trunc(e.cost/1e4)," \u0417\u041c ").concat(Math.trunc(e.cost/100%100)," \u0421\u041c ").concat(e.cost%100," \u041c\u041c")):void 0,e.description&&r.a.createElement("p",null,e.description))},dataSource:null===l||void 0===l?void 0:l.itemsList.map((function(e){return{key:e.id,name:e.name.ru,count:e.count,cost:e.cost,description:e.description.ru}}))}))},we=Object(c.b)((function(e){return{windowData:e.windowData}}),null)((function(e){var t=Object(n.useState)(),a=Object(O.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)("generalInfo"),o=Object(O.a)(c,2),u=o[0],s=o[1];Object(n.useEffect)((function(){D(e.match.params.id).then((function(e){e&&(i(e),console.log("[characterData]",e))}))}),[e.match.params.id]);return r.a.createElement(r.a.Fragment,null,l?r.a.createElement("div",{style:{display:"flex",flexDirection:e.windowData.isMobile?"column":"row",justifyContent:"space-between"}},r.a.createElement("div",{style:{height:e.windowData.isMobile?e.windowData.height-30-60:e.windowData.height,overflow:"auto"},children:function(e,t){return{generalInfo:r.a.createElement(V,{info:t.about.info,description:t.about.description}),attributes:r.a.createElement(me,{attributes:t.about.attributes,skills:t.about.proficiency.skills}),experience:r.a.createElement(de,{classes:t.about.info.classes,action:t.about.action,info:t.about.info}),proficiency:r.a.createElement(pe,{proficiency:t.about.proficiency}),combat:r.a.createElement(ve,{action:t.about.action,attributes:t.about.attributes,stats:t.about.stats,effects:t.about.effects}),equipment:r.a.createElement(ye,{equipment:t.equipment})}[e]}(u,l)}),r.a.createElement(ue,{setCharacterViewTab:s,windowData:e.windowData})):r.a.createElement("div",null,"Loading . . ."))})),ke=(a(349),a(138)),Oe=a.n(ke),je=a(186),Se=a.n(je),Ce=a(187),Ie=a.n(Ce),Ne=a(188),_e=a.n(Ne),xe=(a(350),a(367)),De=a(366),Te=Object(c.b)((function(e){return{windowData:e.windowData}}),null)((function(e){var t,a=Object(n.useState)({isMenuCollapsed:!1}),l=Object(O.a)(a,2),i=l[0],c=l[1],u=function(e,t,a){return r.a.createElement("div",{className:"menu-list__item"},r.a.createElement(o.b,{to:e,className:"menu-list__link"},r.a.createElement("div",{className:"menu-list__static-item"},t),r.a.createElement("div",{className:i.isMenuCollapsed?"menu-list__text collapsed":"menu-list__text"},r.a.createElement("span",null,a))))},s=function(){var t;return r.a.createElement("div",{className:"menu-list"},r.a.createElement("div",null,u("/dashboard",r.a.createElement(Se.a,null),"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),u("/adventure/create",r.a.createElement(be.a,null),"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"),u("/adventure/list",r.a.createElement(Ie.a,null),"\u041c\u043e\u0438 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),u("/game/adventure/view/Djadame/character/create",r.a.createElement(_e.a,null),"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430"),u("/game/adventure/view/Djadame/character/view/gremmy",r.a.createElement(Y.a,null),"gremmy"),u("/game/adventure/view/Djadame/character/view/klinfort",r.a.createElement(Y.a,null),"klinfort char"),u("/game/adventure/view/Djadame/character/view/skarlet",r.a.createElement(Y.a,null),"skarlet char")),r.a.createElement("div",null,u("/signin",r.a.createElement(Oe.a,null),"\u0412\u0445\u043e\u0434"),u("/signup",r.a.createElement(Oe.a,null),"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),!(null===(t=e.windowData)||void 0===t?void 0:t.isMobile)&&r.a.createElement("div",{className:"menu-list__item switch"},r.a.createElement(xe.a,{checked:!i.isMenuCollapsed,onChange:function(){return c(Object(v.a)(Object(v.a)({},i),{},{isMenuCollapsed:!i.isMenuCollapsed}))}}),r.a.createElement("span",{className:i.isMenuCollapsed?"menu-list__text collapsed":"menu-list__text"},"COLLAPSE MENU"))))};return(null===(t=e.windowData)||void 0===t?void 0:t.isMobile)?r.a.createElement(De.a,{visible:e.isMenuOpened,onClose:e.onClose},r.a.createElement("div",{className:"side-menu side-menu--mobile",onClick:e.onClose,onKeyDown:e.onClose},s())):r.a.createElement("div",{className:"side-menu side-menu--desktop ".concat(i.isMenuCollapsed?"collapsed":""," ").concat(e.isMenuOpened?"":"closed")},s())})),Ae=Object(c.b)((function(e){return{windowData:e.windowData,userData:e.userData}}),{setWindow:function(){return function(){var e=Object(I.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.documentElement.style.setProperty("--vh","".concat(.01*document.documentElement.clientHeight,"px")),a=document.getElementsByTagName("body")[0],n={width:a.clientWidth,height:a.clientHeight,isMobile:a.clientWidth<1024,isLandscape:a.clientWidth>a.clientHeight},t((r=n,P(M.GET_RESOLUTION,r)));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t,a,l=Object(n.useState)({isMenuOpened:!1}),i=Object(O.a)(l,2),c=i[0],o=i[1];return Object(n.useEffect)((function(){return window.onresize=e.setWindow,e.setWindow(),function(){window.onresize=null}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app"},r.a.createElement(Te,{isMenuOpened:c.isMenuOpened,onClose:function(){return o({isMenuOpened:!1})}}),r.a.createElement("div",{className:"header",style:(null===(t=e.windowData)||void 0===t?void 0:t.isMobile)?{height:30}:{display:"none"}},r.a.createElement("button",{className:"menu-button",onClick:function(){return o({isMenuOpened:!0})}},"menu")),r.a.createElement("div",{className:"app-site",style:{height:(null===(a=e.windowData)||void 0===a?void 0:a.isMobile)?e.windowData.height-30:e.windowData.height,overflow:"auto"}},r.a.createElement(j.a,{exact:!0,path:"/dashboard",component:R}),r.a.createElement(j.a,{path:"/signin",component:H}),r.a.createElement(j.a,{path:"/signup",component:W}),r.a.createElement(j.a,{path:"/adventure/create",component:F}),r.a.createElement(j.a,{path:"/adventure/list",component:K}),r.a.createElement(j.a,{exact:!0,path:"/adventure/view/:id",component:G}),r.a.createElement(j.a,{path:"/game/adventure/view/:id/character/create",component:z}),r.a.createElement(j.a,{path:"/game/adventure/view/:id/character/view/:id",component:we}))))})),Me=function(){return r.a.createElement(c.a,{store:k},r.a.createElement(o.a,{basename:"/dmt2"},r.a.createElement(Ae,null)))};i.a.render(r.a.createElement(Me,null),document.getElementById("root"))}},[[197,1,2]]]);
//# sourceMappingURL=main.58800b3c.chunk.js.map