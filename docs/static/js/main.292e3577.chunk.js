(this.webpackJsonpdmt2=this.webpackJsonpdmt2||[]).push([[0],{67:function(e,t,n){e.exports=n(98)},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(8),r=n.n(l),u=n(10),i=n(22),s=n(16),o=n(5),m=(n(76),n(14));n(77),n(78);function d(e){return c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"menu-button",onClick:e.onMenuButtonClick},"click me"))}var p=n(121),E=n(122),f=n(46),h=n.n(f),b=n(58),v=n.n(b),O=n(61),g=n.n(O),C=n(56),j=n.n(C),_=n(59),S=n.n(_),M=n(60),w=n.n(M),A=(n(79),function(e){var t=Object(a.useState)({isMenuCollapsed:e.isMenuCollapsed}),n=Object(o.a)(t,2),l=n[0],r=n[1],u=function(e,t,n){return c.a.createElement("div",{className:"menu-list__item"},c.a.createElement(i.b,{to:e,className:"menu-list__link"},c.a.createElement("div",{className:"menu-list__static-item"},t),c.a.createElement("div",{className:l.isMenuCollapsed?"menu-list__text collapsed":"menu-list__text"},c.a.createElement("span",null,n))))},m=function(){return c.a.createElement("div",{className:"menu-list"},c.a.createElement("div",null,u("/",c.a.createElement(j.a,null),"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),u("/adventure/create",c.a.createElement(v.a,null),"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"),u("/adventure/list",c.a.createElement(S.a,null),"\u041c\u043e\u0438 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),u("/adventure/view/Djadame/character/create",c.a.createElement(w.a,null),"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430"),u("/adventure/view/Djadame/character/view/a_a",c.a.createElement(g.a,null),"a_a char")),c.a.createElement("div",null,u("/signin",c.a.createElement(h.a,null),"\u0412\u0445\u043e\u0434"),u("/signup",c.a.createElement(h.a,null),"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),!e.isMobileMenuView&&c.a.createElement("div",{className:"menu-list__item switch"},c.a.createElement(E.a,{checked:!l.isMenuCollapsed,onChange:function(){return r(Object(s.a)({},l,{isMenuCollapsed:!l.isMenuCollapsed}))}}),c.a.createElement("span",{className:l.isMenuCollapsed?"menu-list__text collapsed":"menu-list__text"},"COLLAPSE MENU"))))};return e.isMobileMenuView?c.a.createElement(p.a,{open:e.isMenuOpened,onClose:e.onClose},c.a.createElement("div",{className:"side-menu side-menu--mobile",onClick:e.onClose,onKeyDown:e.onClose},m())):c.a.createElement("div",{className:"side-menu side-menu--desktop ".concat(l.isMenuCollapsed?"collapsed":""," ").concat(e.isMenuOpened?"":"closed")},m())}),y=n(24),N=n.n(y);n(82),n(84);N.a.initializeApp({apiKey:"AIzaSyCBJLGUwm3Gudef3OmMpTr4_kuAKojdHKI",authDomain:"dnd-master-tools.firebaseapp.com",databaseURL:"https://dnd-master-tools.firebaseio.com",projectId:"dnd-master-tools",storageBucket:"dnd-master-tools.appspot.com",messagingSenderId:"338033505662"});var R=N.a,T=(n(88),{name:"",description:"",image:"",playersList:[],dungeonMaster:"",charactersList:[],notes:[]}),U=Object(u.b)(null,null)((function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],l=t[1],r=Object(a.useState)([""]),u=Object(o.a)(r,2),i=u[0],d=u[1],p=Object(m.e)(),E=[];return c.a.createElement("div",{className:"adventure-create"},c.a.createElement("span",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f*"),c.a.createElement("input",{onChange:function(e){return T.name=e.target.value}}),c.a.createElement("span",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),c.a.createElement("textarea",{onChange:function(e){return T.description=e.target.value}}),c.a.createElement("span",null,"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),c.a.createElement("input",{placeholder:"url",onChange:function(e){return T.image=e.target.value}}),c.a.createElement("span",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430"),c.a.createElement("div",null,c.a.createElement("input",{placeholder:"email",value:n,onChange:function(e){l(e.target.value)}}),c.a.createElement("button",{onClick:function(){T.playersList.push(n),l("")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),c.a.createElement("h4",null,"\u0418\u0433\u0440\u043e\u043a\u0438*:"),T.playersList.map((function(e){return c.a.createElement("span",null,e)})),c.a.createElement("h4",null,"Dungeon Master*:"),T.playersList[0],c.a.createElement("button",{onClick:function(){var e;0===T.name.length&&E.push("Adventure name should not be empty"),0===T.playersList.length&&E.push("Players list should not be empty"),d(E),console.log("[currentErrors]:",E),0===E.length&&(T.dungeonMaster=T.playersList[0],(e=T,N.a.firestore().collection("adventures").doc(e.name).set(Object(s.a)({},e))).then((function(e){return console.log("[AdventureCreate response]:",e)})),p.push("/adventure/list"))}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"),c.a.createElement("span",null,"Errors:"),i.map((function(e){return c.a.createElement("span",null,e)})))})),P=(n(89),Object(u.b)(null,null)((function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],l=t[1];return N.a.firestore().collection("adventures").get().then((function(e){return e.docs.map((function(e){return e.data()}))})).then((function(e){l(e)})),Object(a.useEffect)((function(){})),c.a.createElement("div",{className:"adventure-list"},"Advenure List here",n.map((function(e){return c.a.createElement(i.b,{to:"view/".concat(e.name)},e.name)})))}))),k=(n(90),Object(u.b)(null,null)((function(e){var t=e.match.params.id,n=Object(m.e)();return c.a.createElement("div",{className:"adventure-view"},c.a.createElement("span",null,"Adventure id ",t),c.a.createElement(i.b,{to:"".concat(t,"/character/view/a_a")},"a_a"),c.a.createElement("button",{onClick:function(){return n.push("/adventure/view/".concat(t,"/character/create"))}},"Create character"))}))),D=(n(91),Object(u.b)(null,null)((function(e){var t=Object(a.useState)(!0),n=Object(o.a)(t,2),l=n[0],r=n[1];return Object(a.useEffect)((function(){console.log("[CharacterCreate WORKS!!!]",null)}),[l]),c.a.createElement("div",{className:"character-create"},c.a.createElement("button",{onClick:function(){return r(!l)}},"CharacterCreate WORKS!!!"))}))),L=(n(92),Object(u.b)(null,null)((function(e){var t=Object(a.useState)(!0),n=Object(o.a)(t,2),l=(n[0],n[1],Object(a.useState)()),r=Object(o.a)(l,2),u=r[0],i=r[1],s=e.match.params.id;return Object(a.useEffect)((function(){var e;(e=s,N.a.firestore().collection("playerCharacters").doc(e).get().then((function(e){return e.data()}))).then((function(e){return i(e)})),console.log("[characterData]",null),console.log("[CharacterView WORKS!!!]",null)}),[s]),c.a.createElement("div",{className:"character-view"},c.a.createElement("div",null,"THIS CHARACTER IS ",c.a.createElement("b",null,s)),c.a.createElement("pre",{style:{border:"1px solid red"}},JSON.stringify(u,null,2)))}))),I=(n(93),n(62)),B=n.n(I),W={SET_USER:"SET_USER"},K=W,x=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:e,payload:t}}(K.SET_USER,e)},G=function(e){return function(t){var n;return B.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:n={email:e.email},t(x(n));case 2:case"end":return a.stop()}}))}},H=Object(u.b)((function(e){return{userData:e.userData}}),{setUser:G})((function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),l=n[0],r=n[1],u=document.getElementsByTagName("body")[0].clientWidth,i=document.getElementsByTagName("body")[0].clientHeight;return Object(a.useEffect)((function(){e.setUser({email:l})}),[l]),R.auth().onAuthStateChanged((function(){var e;r((null===(e=R.auth().currentUser)||void 0===e?void 0:e.email)||"")})),c.a.createElement("div",{className:"home"},c.a.createElement("h1",null,"Current user - [",l,"]"),c.a.createElement("button",{onClick:function(){return alert(e.userData.email)}},"Alert user data email from store"),c.a.createElement("button",{onClick:function(){return R.auth().signOut()}},"Sign out"),c.a.createElement("button",{onClick:function(){return alert(u)}},"Show client width"),c.a.createElement("button",{onClick:function(){return alert(i)}},"Show client height"))})),J=(n(95),Object(u.b)(null,{setUser:G})((function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),l=n[0],r=n[1],u=Object(a.useState)(""),i=Object(o.a)(u,2),s=i[0],d=i[1],p=Object(a.useState)([]),E=Object(o.a)(p,2),f=E[0],h=E[1],b=Object(m.e)();return c.a.createElement("div",{className:"sign-in"},c.a.createElement("span",null,"E-mail"),c.a.createElement("input",{value:l,onChange:function(e){var t=e.target.value;r(t)}}),c.a.createElement("span",null,"Password"),c.a.createElement("input",{type:"password",value:s,onChange:function(e){var t=e.target.value;d(t)}}),f.map((function(e){return c.a.createElement("span",null,e)})),c.a.createElement("button",{onClick:function(){0===f.length&&function(e,t){return N.a.auth().signInWithEmailAndPassword(e,t).catch((function(e){return e}))}(l,s).then((function(t){if(t.message&&h([t.message]),t.user){var n={email:t.user.email};h(["User successfully signed in"]),e.setUser(n),b.push("/")}}))}},"Sign Up"))}))),V=(n(96),Object(u.b)(null,{setUser:G})((function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),l=n[0],r=n[1],u=Object(a.useState)(""),i=Object(o.a)(u,2),s=i[0],d=i[1],p=Object(a.useState)([]),E=Object(o.a)(p,2),f=E[0],h=E[1],b=Object(m.e)();return Object(a.useEffect)((function(){!function(){var e=[];/\S+@\S+\.\S+/.test(String(l).toLowerCase())||e.push("The email address is badly formatted."),s.length<6&&e.push("Password should be at least 6 characters."),h(e),console.log("[validationErrors]:",e)}()}),[l,s]),c.a.createElement("div",{className:"sign-up"},c.a.createElement("span",null,"E-mail"),c.a.createElement("input",{value:l,onChange:function(e){var t=e.target.value;r(t)}}),c.a.createElement("span",null,"Password"),c.a.createElement("input",{type:"password",value:s,onChange:function(e){var t=e.target.value;d(t)}}),f.map((function(e){return c.a.createElement("span",null,e)})),c.a.createElement("button",{onClick:function(){0===f.length&&function(e,t){return N.a.auth().createUserWithEmailAndPassword(e,t).catch((function(e){return e}))}(l,s).then((function(t){if(t.message&&h([t.message]),t.user){var n={email:t.user.email};h(["User successfully created and signed in"]),e.setUser(n),b.push("/")}}))}},"Sign Up"))}))),z=function(){var e=Object(a.useState)({menu:{isMobileMenu:!0,isMenuCollapsed:!1,isMenuOpened:!1},clientWindowResolution:{width:0,height:0}}),t=Object(o.a)(e,2),n=t[0],l=t[1],r=function(){var e=document.getElementsByTagName("body")[0];l({clientWindowResolution:{width:e.clientWidth,height:e.clientHeight},menu:{isMenuOpened:!(e.clientWidth<1024),isMenuCollapsed:!1,isMobileMenu:e.clientWidth<1024}})};return Object(a.useEffect)((function(){return window.onresize=r,r(),function(){window.onresize=null}}),[]),c.a.createElement("div",{className:"app"},n.menu.isMobileMenu?c.a.createElement(d,{onMenuButtonClick:function(){l(Object(s.a)({},n,{menu:Object(s.a)({},n.menu,{isMenuOpened:!n.menu.isMenuOpened})}))}}):null,c.a.createElement(A,{isMobileMenuView:n.menu.isMobileMenu,isMenuCollapsed:n.menu.isMenuCollapsed,isMenuOpened:n.menu.isMenuOpened,onClose:function(){return l(Object(s.a)({},n,{menu:Object(s.a)({},n.menu,{isMenuOpened:!1})}))}}),c.a.createElement("div",{className:"app__content"},c.a.createElement(m.a,{exact:!0,path:"/",component:H}),c.a.createElement(m.a,{path:"/signin",component:J}),c.a.createElement(m.a,{path:"/signup",component:V}),c.a.createElement(m.a,{path:"/adventure/create",component:U}),c.a.createElement(m.a,{path:"/adventure/list",component:P}),c.a.createElement(m.a,{exact:!0,path:"/adventure/view/:id",component:k}),c.a.createElement(m.a,{path:"/adventure/view/:id/character/create",component:D}),c.a.createElement(m.a,{path:"/adventure/view/:id/character/view/:id",component:L})))},Y=(n(97),n(26)),q=n(63),F=n(64),Q=n.n(F),X=n(65),Z={email:""},$=Object(Y.combineReducers)({userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0,n=W.SET_USER;return t.type===n?Object(s.a)({},t.payload):e}}),ee=[X.a],te=Object({NODE_ENV:"production",PUBLIC_URL:"/dmt2",REACT_APP_API_KEY:"AIzaSyCBJLGUwm3Gudef3OmMpTr4_kuAKojdHKI",REACT_APP_AUTH_DOMAIN:"dnd-master-tools.firebaseapp.com",REACT_APP_DATABASE_URL:"https://dnd-master-tools.firebaseio.com",REACT_APP_MESSAGING_SENDER_ID:"338033505662",REACT_APP_PROJECT_ID:"dnd-master-tools",REACT_APP_STORAGE_BUCKET:"dnd-master-tools.appspot.com"}).REACT_APP_NODE_ENV;te&&"development"===te&&ee.push(Q.a);var ne=Object(Y.createStore)($,{},Object(q.composeWithDevTools)(Y.applyMiddleware.apply(void 0,ee)));r.a.render(c.a.createElement((function(){return c.a.createElement(u.a,{store:ne},c.a.createElement(i.a,{basename:"/dmt2"},c.a.createElement(z,null)))}),null),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.292e3577.chunk.js.map