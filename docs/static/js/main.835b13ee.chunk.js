(this.webpackJsonpdmt2=this.webpackJsonpdmt2||[]).push([[0],{243:function(e,t,a){e.exports=a(434)},252:function(e,t,a){},254:function(e,t,a){},255:function(e,t,a){},260:function(e,t,a){},327:function(e,t,a){},328:function(e,t,a){},415:function(e,t,a){},416:function(e,t,a){},423:function(e,t,a){},424:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){},434:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),c=a.n(i),l=a(48),o=a(95),u=(a(252),a(86)),m=a(202),s=a(203),d=a.n(s),p=a(204),f=a(148),v={SET_USER:"SET_USER"},h={GET_RESOLUTION:"GET_RESOLUTION"},E={email:""},g={width:0,height:0,isMobile:!1,isLandscape:!1},y=Object(u.combineReducers)({userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=v.SET_USER;return t.type===a?Object(f.a)({},t.payload):e},windowData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,a=h.GET_RESOLUTION;return t.type===a?Object(f.a)({},t.payload):e}}),b=[p.a],w=Object({NODE_ENV:"production",PUBLIC_URL:"/dmt2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_KEY:"AIzaSyCBJLGUwm3Gudef3OmMpTr4_kuAKojdHKI",REACT_APP_AUTH_DOMAIN:"dnd-master-tools.firebaseapp.com",REACT_APP_DATABASE_URL:"https://dnd-master-tools.firebaseio.com",REACT_APP_MESSAGING_SENDER_ID:"338033505662",REACT_APP_PROJECT_ID:"dnd-master-tools",REACT_APP_STORAGE_BUCKET:"gs://dnd-master-tools.appspot.com/"}).REACT_APP_NODE_ENV;w&&"development"===w&&b.push(d.a);var k=Object(u.createStore)(y,{},Object(m.composeWithDevTools)(u.applyMiddleware.apply(void 0,b))),O=a(39),I=(a(253),a(37)),S=(a(254),a(57)),N=a.n(S),x=a(91),j=v,C=h,_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:e,payload:t}},D=function(e){return _(j.SET_USER,e)},T=function(e){return function(){var t=Object(x.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={displayName:e.displayName,email:e.email,emailVerified:e.emailVerified,photoURL:e.photoURL},a(D(n));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=Object(l.b)((function(e){return{userData:e.userData}}),{setUser:T})((function(e){var t=document.getElementsByTagName("body")[0].clientWidth,a=document.getElementsByTagName("body")[0].clientHeight;return Object(n.useEffect)((function(){})),r.a.createElement("div",{className:"home"},r.a.createElement("button",{onClick:function(){return alert(e.userData.email)}},"Alert user data email from store"),r.a.createElement("button",{onClick:function(){return alert(t)}},"Show client width"),r.a.createElement("button",{onClick:function(){return alert(a)}},"Show client height"))})),A=(a(255),{id:"",name:"",description:"",image:"",playersList:[],charactersList:[],itemsList:[],notes:[],customCounter:1}),L=Object(l.b)(null,null)((function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)([""]),l=Object(O.a)(c,2),o=l[0],u=l[1],m=Object(I.e)(),s=[];return r.a.createElement("div",{className:"adventure-create"},r.a.createElement("span",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f*"),r.a.createElement("input",{onChange:function(e){return A.name=e.target.value}}),r.a.createElement("span",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),r.a.createElement("textarea",{onChange:function(e){return A.description=e.target.value}}),r.a.createElement("span",null,"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),r.a.createElement("input",{placeholder:"url",onChange:function(e){return A.image=e.target.value}}),r.a.createElement("span",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430"),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"email",value:a,onChange:function(e){i(e.target.value)}}),r.a.createElement("button",{onClick:function(){i("")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),r.a.createElement("h4",null,"\u0418\u0433\u0440\u043e\u043a\u0438*:"),A.playersList.map((function(e){return r.a.createElement("span",null,e)})),r.a.createElement("h4",null,"Dungeon Master*:"),A.playersList[0],r.a.createElement("button",{onClick:function(){0===A.name.length&&s.push("Adventure name should not be empty"),0===A.playersList.length&&s.push("Players list should not be empty"),u(s),console.log("[currentErrors]:",s),0===s.length&&m.push("/adventure")}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"),r.a.createElement("span",null,"Errors:"),o.map((function(e){return r.a.createElement("span",null,e)})))})),R=a(453),H=a(53),M=a(458),F=a(207),U=a.n(F),W=a(112),B=a.n(W);a(257),a(258);B.a.initializeApp({apiKey:"AIzaSyCBJLGUwm3Gudef3OmMpTr4_kuAKojdHKI",authDomain:"dnd-master-tools.firebaseapp.com",databaseURL:"https://dnd-master-tools.firebaseio.com",projectId:"dnd-master-tools",storageBucket:"gs://dnd-master-tools.appspot.com/",messagingSenderId:"338033505662"});var G=B.a.auth(),z=new B.a.auth.GoogleAuthProvider,K=B.a.firestore(),q=function(){var e=Object(x.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.collection("adventures").add({});case 2:return t=e.sent,e.abrupt("return",t.id);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(x.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.collection("adventures").doc(t).get();case 2:return a=e.sent,e.abrupt("return",a.data());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=(B.a,a(260),a(462)),X=a(463),Y=Object(l.b)(null,null)((function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],i=t[1],c=Object(I.e)();Object(n.useEffect)((function(){K.collection("adventures").get().then((function(e){return e.docs.map((function(e){return e.data()}))})).then((function(e){console.log("adventures",e),i(e)}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"adventure-header"},r.a.createElement(M.a,{className:"site-page-header",title:"\u041f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"}),r.a.createElement(H.a,{onClick:function(){var e,t=null===(e=G.currentUser)||void 0===e?void 0:e.email;"nunky.balthazar@gmail.com"===t?q().then((function(e){(function(e,t){return K.collection("adventures").doc(e).set(t).catch((function(e){console.log(e)}))})(e,{id:e,name:e,playersList:[{email:t,isDungeonMaster:!0}],customCounter:0,charactersList:[],itemsList:[],notes:[]}).then((function(){c.push("/adventure/".concat(e,"/settings"))}))})):alert("no access")},className:"adventure-header__add-button",icon:r.a.createElement(X.a,null)})),r.a.createElement("div",{className:"adventure-list"},a.map((function(e){return function(e){return r.a.createElement(R.a,{hoverable:!0,key:e.id,className:"adventure-item",cover:e.image?r.a.createElement("img",{className:"adventure-item__image",alt:"adventure",src:e.image}):void 0,actions:[r.a.createElement(H.a,null,r.a.createElement(o.b,{to:"".concat("/adventure","/").concat(e.id)},"\u0412\u043e\u0439\u0442\u0438 ",r.a.createElement(J.a,{key:"enter"})))]},r.a.createElement(U.a,{title:e.name,description:r.a.createElement("div",{className:"adventure-item__description"},e.description)}))}(e)}))))})),Q=(a(327),a(328),a(452)),Z=function(e){var t=e.info,a=e.description;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{style:{width:"100%",height:100,objectFit:"cover",objectPosition:"50% 25%"},src:a.imageUrl,alt:""}),r.a.createElement(Q.a,{title:function(){return"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"},showHeader:!1,pagination:!1,style:{width:"100%"},columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"value",dataIndex:"value",key:"value"}],dataSource:[{key:"playerName",name:"\u0418\u043c\u044f \u0438\u0433\u0440\u043e\u043a\u0430",value:"Owner"},{key:"characterName",name:"\u0418\u043c\u044f \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430",value:t.characterName},{key:"1",name:"\u0420\u0430\u0441\u0441\u0430 (\u043f\u043e\u0434\u0432\u0438\u0434)",value:t.subRace},{key:"2",name:"\u041f\u043e\u043b",value:a.sex},{key:"3",name:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",value:a.age.human},{key:"4",name:"\u0420\u043e\u0441\u0442",value:a.height},{key:"5",name:"\u0412\u0435\u0441",value:a.weight},{key:"6",name:"\u041f\u0440\u0435\u0434\u0438\u0441\u0442\u043e\u0440\u0438\u044f",value:t.background}]}))},$=(a(415),a(222)),ee=a.n($),te=a(223),ae=a.n(te),ne=a(225),re=a.n(ne),ie=a(224),ce=a.n(ie),le=a(77),oe=a(140),ue=[{name:"generalInfo",caption:"\u041e \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0435"},{name:"attributes",caption:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"},{name:"experience",caption:"\u041a\u043b\u0430\u0441\u0441 \u0438 \u043e\u043f\u044b\u0442"},{name:"proficiency",caption:"\u0412\u043b\u0430\u0434\u0435\u043d\u0438\u0435"},{name:"combat",caption:"\u0411\u043e\u0435\u0432\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"}],me=[{name:"generalInfo",caption:"\u0412\u0440\u0435\u043c\u044f"},{name:"generalInfo",caption:"\u0417\u0430\u043c\u0435\u0442\u043a\u0438"},{name:"generalInfo",caption:"\u041a\u0432\u0435\u0441\u0442\u044b"},{name:"generalInfo",caption:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438"},{name:"generalInfo",caption:"\u041b\u043e\u0433"}],se=[{name:"equipment",caption:"\u042d\u043a\u0438\u043f\u0438\u0440\u043e\u0432\u043a\u0430"}],de=[{name:"generalInfo",caption:"\u0421\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438"},{name:"generalInfo",caption:"\u041d\u0430\u0432\u044b\u043a\u0438"},{name:"generalInfo",caption:"\u0423\u043c\u0435\u043d\u0438\u044f"},{name:"generalInfo",caption:"\u0420\u0438\u0442\u0443\u0430\u043b\u044b"},{name:"generalInfo",caption:"\u0417\u0430\u043a\u043b\u0438\u043d\u0430\u043d\u0438\u044f"}],pe=Object(l.b)(null,null)((function(e){var t=e.windowData.isLandscape,a=function(t){return r.a.createElement(le.a,{className:"submenu"},t.map((function(t){return r.a.createElement(le.a.Item,{key:t.name,onClick:function(){return e.setCharacterViewTab(t.name)},children:t.caption})})))},n=function(e,a,n,i){return r.a.createElement(oe.a,{disabled:i,key:e,overlay:a,overlayStyle:t?{}:{width:"100%"}},r.a.createElement(H.a,{className:"game-menu__button",children:n}))};return r.a.createElement("div",{className:"game-menu",style:{height:60,flexDirection:"row"}},r.a.createElement(r.a.Fragment,null,n("generalInfoMenu",a(ue),r.a.createElement(ee.a,null)),n("journalMenuTabs",a(me),r.a.createElement(ae.a,null),!0),n("equipmentMenuTabs",a(se),r.a.createElement(ce.a,null)),n("abilitiesMenuTabs",a(de),r.a.createElement(re.a,null),!0)))})),fe=function(e){return Math.round((e-.5)/2-5)},ve=function(e){var t=e.attributes,a=e.skills;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{title:function(){return"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"},showHeader:!1,pagination:!1,style:{width:"100%"},size:"small",columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"Count",dataIndex:"count",key:"count"},{title:"Bonus",dataIndex:"bonus",key:"bonus"},{title:"Skills",dataIndex:"skills",key:"skills",render:function(e){return e.map((function(e){return r.a.createElement("div",{style:{color:e.value?"green":""}},e.name)}))}}],dataSource:[{key:"1",name:"\u0421\u0438\u043b\u0430",count:t.strength,bonus:fe(t.strength),skills:[{name:"\u0410\u0442\u043b\u0435\u0442\u0438\u043a\u0430",value:a.Athletics}]},{key:"2",name:"\u041b\u043e\u0432\u043a\u043e\u0441\u0442\u044c",count:t.dexterity,bonus:fe(t.dexterity),skills:[{name:"\u0410\u043a\u0440\u043e\u0431\u0430\u0442\u0438\u043a\u0430",value:a.Acrobatics},{name:"\u041b\u043e\u0432\u043a\u043e\u0441\u0442\u044c \u0440\u0443\u043a",value:a.SleightOfHand},{name:"\u0421\u043a\u0440\u044b\u0442\u043d\u043e\u0441\u0442\u044c",value:a.Stealth}]},{key:"3",name:"\u0422\u0435\u043b\u043e\u0441\u043b\u043e\u0436\u0435\u043d\u0438\u0435",count:t.constitution,bonus:fe(t.constitution),skills:[{name:"\u0412\u044b\u043d\u043e\u0441\u043b\u0438\u0432\u043e\u0441\u0442\u044c",value:a.Endurance}]},{key:"4",name:"\u0418\u043d\u0442\u0435\u043b\u043b\u0435\u043a\u0442",count:t.intelligence,bonus:fe(t.intelligence),skills:[{name:"\u0410\u043d\u0430\u043b\u0438\u0437",value:a.Investigation},{name:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",value:a.History},{name:"\u041c\u0430\u0433\u0438\u044f",value:a.Arcana},{name:"\u041f\u0440\u0438\u0440\u043e\u0434\u0430",value:a.Nature},{name:"\u0420\u0435\u043b\u0438\u0433\u0438\u044f",value:a.Religion}]},{key:"5",name:"\u041c\u0443\u0434\u0440\u043e\u0441\u0442\u044c",count:t.wisdom,bonus:fe(t.wisdom),skills:[{name:"\u0412\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",value:a.Perception},{name:"\u0412\u044b\u0436\u0438\u0432\u0430\u043d\u0438\u0435",value:a.Survival},{name:"\u041c\u0435\u0434\u0438\u0446\u0438\u043d\u0430",value:a.Medicine},{name:"\u041f\u0440\u043e\u043d\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",value:a.Insight},{name:"\u0423\u0445\u043e\u0434 \u0437\u0430 \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u043c\u0438",value:a.AnimalHandling}]},{key:"6",name:"\u0425\u0430\u0440\u0438\u0437\u043c\u0430",count:t.charisma,bonus:fe(t.charisma),skills:[{name:"\u0412\u044b\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435",value:a.Performance},{name:"\u0417\u0430\u043f\u0443\u0433\u0438\u0432\u0430\u043d\u0438\u0435",value:a.Intimidation},{name:"\u041e\u0431\u043c\u0430\u043d",value:a.Deception},{name:"\u0423\u0431\u0435\u0436\u0434\u0435\u043d\u0438\u0435",value:a.Persuasion}]}]}))},he=function(e){var t=e.classes,a=e.action,n=e.info;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{title:function(){return"\u041a\u043b\u0430\u0441\u0441"},showHeader:!1,pagination:!1,style:{width:"100%"},columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"Level",dataIndex:"level",key:"level"}],dataSource:t.map((function(e){return{key:e.name,name:e.name,level:e.level}}))}),r.a.createElement(Q.a,{title:function(){return"\u0427\u0435\u0440\u0442\u044b"},showHeader:!1,pagination:!1,style:{width:"100%"},columns:[{title:"Name",dataIndex:"name",key:"name"}],dataSource:n.feats.length?n.feats.map((function(e){return{key:e,name:e}})):[{key:"feat",name:"\u041d\u0435\u0442"}]}),r.a.createElement(Q.a,{title:function(){return"\u0414\u0440\u0443\u0433\u043e\u0435"},showHeader:!1,pagination:!1,style:{width:"100%"},columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"Value",dataIndex:"value",key:"value"}],dataSource:[{key:"exp",name:"\u041e\u043f\u044b\u0442",value:a.experience},{key:"bonus",name:"\u0411\u043e\u043d\u0443\u0441 \u043c\u0430\u0441\u0442\u0435\u0440\u0441\u0442\u0432\u0430",value:a.bonus},{key:"inspiration",name:"\u0412\u0434\u043e\u0445\u043d\u043e\u0432\u0435\u043d\u0438\u0435",value:a.inspiration?"\u0415\u0441\u0442\u044c":"\u041d\u0435\u0442"}]}))},Ee=function(e){var t=e.proficiency;return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement(Q.a,{title:function(){return"\u042f\u0437\u044b\u043a\u0438"},showHeader:!1,pagination:!1,style:{width:"50%",marginBottom:16},columns:[{title:"Name",dataIndex:"name",key:"name"}],dataSource:t.languages.length?t.languages.map((function(e){return{key:e,name:e}})):[{key:"feat",name:"\u041d\u0435\u0442"}]}),r.a.createElement(Q.a,{title:function(){return"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b"},showHeader:!1,pagination:!1,style:{width:"50%"},columns:[{title:"Name",dataIndex:"name",key:"name"}],dataSource:t.tools.length?t.tools.map((function(e){return{key:e,name:e}})):[{key:"feat",name:"\u041d\u0435\u0442"}]}),r.a.createElement(Q.a,{title:function(){return"\u041e\u0440\u0443\u0436\u0438\u0435"},showHeader:!1,pagination:!1,style:{width:"50%"},columns:[{title:"Name",dataIndex:"name",key:"name"}],dataSource:t.weapons.length?t.weapons.map((function(e){return{key:e,name:e}})):[{key:"feat",name:"\u041d\u0435\u0442"}]}),r.a.createElement(Q.a,{title:function(){return"\u0414\u043e\u0441\u043f\u0435\u0445\u0438"},showHeader:!1,pagination:!1,style:{width:"50%"},columns:[{title:"Name",dataIndex:"name",key:"name"}],dataSource:t.armor.length?t.armor.map((function(e){return{key:e,name:e}})):[{key:"feat",name:"\u041d\u0435\u0442"}]}))},ge=function(e){var t=e.action,a=e.attributes,n=e.stats,i=e.effects;return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement(Q.a,{title:function(){return"\u0411\u043e\u0435\u0432\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438"},showHeader:!1,pagination:!1,style:{width:"100%"},columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"value",dataIndex:"value",key:"value"}],dataSource:[{key:"passiveWisdom",name:"\u041f\u0430\u0441\u0441\u0438\u0432\u043d\u0430\u044f \u043c\u0443\u0434\u0440\u043e\u0441\u0442\u044c",value:10+fe(a.wisdom)},{key:"armour",name:"\u041a\u043b\u0430\u0441 \u0434\u043e\u0441\u043f\u0435\u0445\u0430",value:t.armorClass},{key:"initiative",name:"\u0411\u043e\u043d\u0443\u0441 \u0438\u043d\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u044b",value:n.initiative},{key:"speed",name:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c",value:n.speed},{key:"size",name:"\u0420\u0430\u0437\u043c\u0435\u0440",value:n.size},{key:"darkVision",name:"\u0422\u0435\u043c\u043d\u043e\u0435 \u0437\u0440\u0435\u043d\u0438\u0435",value:n.darkVision}]}),r.a.createElement(Q.a,{title:function(){return"\u0425\u0438\u0442\u043f\u043e\u0438\u043d\u0442\u044b"},showHeader:!1,pagination:!1,style:{width:"50%"},columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"value",dataIndex:"value",key:"value"}],dataSource:[{key:"hitPoints.max",name:"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c",value:t.hitPoints.max},{key:"hitPoints.temp",name:"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435",value:t.hitPoints.temp},{key:"hitPoints.current",name:"\u0422\u0435\u043a\u0443\u0449\u0438\u0435",value:t.hitPoints.current}]}),r.a.createElement(Q.a,{title:function(){return"\u0421\u043f\u0430\u0441\u0431\u0440\u043e\u0441\u043a\u0438 \u043e\u0442 \u0441\u043c\u0435\u0440\u0442\u0438"},showHeader:!1,pagination:!1,style:{width:"50%"},columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"value",dataIndex:"value",key:"value"}],dataSource:[{key:"deathSaves.successes",name:"\u0423\u0441\u043f\u0435\u0445",value:t.deathSaves.successes},{key:"deathSaves.failures",name:"\u041f\u0440\u043e\u0432\u0430\u043b",value:t.deathSaves.failures}]}),r.a.createElement(Q.a,{title:function(){return"\u0411\u043e\u043d\u0443\u0441\u044b"},showHeader:!1,pagination:!1,style:{width:"50%"},columns:[{title:"Name",dataIndex:"name",key:"name"},{render:function(e){return e.value.map((function(e){return"".concat(e,", ")}))}}],dataSource:[{key:"savingThrows",name:"\u0421\u043f\u0430\u0441\u0431\u0440\u043e\u0441\u043a\u0438",value:i.savingThrows},{key:"resistance",name:"\u0421\u043e\u043f\u0440\u043e\u0442\u0438\u0432\u043b\u0435\u043d\u0438\u0435",value:i.resistance},{key:"immunity",name:"\u0418\u043c\u0443\u043d\u0438\u0442\u0435\u0442\u044b",value:i.immunity}]}))},ye=a(457),be=a(454),we=a(460),ke=a(143),Oe=a.n(ke),Ie=(a(416),a(464)),Se=a(465),Ne=ye.a.TextArea,xe=function(e){e.equipment;var t=Object(n.useState)(),a=Object(O.a)(t,2),i=a[0],c=a[1],l=Object(n.useState)(!1),o=Object(O.a)(l,2),u=o[0],m=o[1];Object(n.useEffect)((function(){V("Djadame").then((function(e){return c(e)}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"openButtonWrap"},r.a.createElement("div",{className:"openButton ".concat(u?"active":""),onClick:function(){m(!u)}},r.a.createElement(Oe.a,null))),u&&r.a.createElement(be.a,{className:"addItemSection",name:"addItem",onFinish:function(e){if(i){var t=i;t.customCounter++;var a={id:"DjadameCustomItem".concat(t.customCounter),cost:e.cost||0,description:{en:"",ru:e.description||""},name:{en:"",ru:e.name},rarity:"common",type:"itemsPack",weight:0,count:e.count};t.itemsList.push(a),c(t),m(!1),n="Djadame",r=i,console.log(r),K.collection("adventures").doc(n).set(r)}var n,r},onFinishFailed:function(e){console.log(e)}},r.a.createElement(be.a.Item,{name:"name",rules:[{required:!0,message:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"}]},r.a.createElement(ye.a,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430"})),r.a.createElement(be.a.Item,{name:"description"},r.a.createElement(Ne,{placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430",autoSize:!0})),r.a.createElement("div",{className:"addItemFooter"},r.a.createElement(be.a.Item,{name:"count"},r.a.createElement(ye.a,{placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})),r.a.createElement(be.a.Item,{name:"cost"},r.a.createElement(ye.a,{placeholder:"\u0426\u0435\u043d\u0430"})),r.a.createElement(be.a.Item,null,r.a.createElement(H.a,{type:"primary",htmlType:"submit"},"Add")))),r.a.createElement(Q.a,{title:function(){return"\u0418\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c"},showHeader:!0,pagination:!1,style:{width:"100%"},size:"small",columns:[{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",dataIndex:"name",key:"name",sorter:function(e,t){return e.name[0]>t.name[0]?1:-1}},{title:"\u041a\u043e\u043b-\u0432\u043e",dataIndex:"count",key:"count",sorter:function(e,t){return e.count&&t.count?e.count-t.count:0}},{key:"action",render:function(){return r.a.createElement(we.b,{size:"small"},r.a.createElement(Ie.a,null),r.a.createElement(Se.a,null))}}],expandedRowRender:function(e){return r.a.createElement(r.a.Fragment,null,e.cost&&0!==e.cost?r.a.createElement("p",null,"\u0426\u0435\u043d\u0430 ".concat(Math.trunc(e.cost/1e4)," \u0417\u041c ").concat(Math.trunc(e.cost/100%100)," \u0421\u041c ").concat(e.cost%100," \u041c\u041c")):void 0,e.description&&r.a.createElement("p",null,e.description))},dataSource:null===i||void 0===i?void 0:i.itemsList.map((function(e){return{key:e.id,name:e.name.ru,count:e.count,cost:e.cost,description:e.description.ru}}))}))},je=function(e){var t=Object(n.useState)("generalInfo"),a=Object(O.a)(t,2),i=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{height:e.windowData.height-32-60,overflow:"auto"},children:function(e,t){return{generalInfo:r.a.createElement(Z,{info:t.about.info,description:t.about.description}),attributes:r.a.createElement(ve,{attributes:t.about.attributes,skills:t.about.proficiency.skills}),experience:r.a.createElement(he,{classes:t.about.info.classes,action:t.about.action,info:t.about.info}),proficiency:r.a.createElement(Ee,{proficiency:t.about.proficiency}),combat:r.a.createElement(ge,{action:t.about.action,attributes:t.about.attributes,stats:t.about.stats,effects:t.about.effects}),equipment:r.a.createElement(xe,{equipment:t.equipment})}[e]}(i,e.character)}),r.a.createElement(pe,{setCharacterViewTab:c,windowData:e.windowData}))},Ce=function(e){var t,a=Object(n.useState)(e.initialStep||"addButton"),i=Object(O.a)(a,2),c=i[0],l=i[1],o=Object(n.useState)(r.a.createElement(r.a.Fragment,null)),u=Object(O.a)(o,2),m=u[0],s=u[1],d={addButton:r.a.createElement(H.a,{onClick:function(){l("itemPicker")},className:"add-content-item-button",type:"dashed"},"+"),itemPicker:r.a.createElement("div",{className:"content-picker"},r.a.createElement("div",{className:"character-picker"},null===(t=e.adventure)||void 0===t?void 0:t.charactersList.map((function(t){return r.a.createElement(H.a,{onClick:function(){var a;a=r.a.createElement(je,{character:t,windowData:e.windowData}),s(a),l("customItem")}},t.about.info.characterName)})))),customItem:m};return r.a.createElement(r.a.Fragment,null,d[c])},_e=Object(l.b)((function(e){return{windowData:e.windowData}}),null)((function(e){var t=e.match.params.id,a=e.windowData,i=a.height,c=a.width,l=a.isMobile,o=Object(n.useState)(),u=Object(O.a)(o,2),m=u[0],s=u[1],d=function(){var e=l?Math.trunc(c/320):Math.trunc((c-214)/320),t=Math.trunc(i/450);return{itemHeight:l?i/t-32:i/t,itemWidth:l?c/e:(c-214)/e,maxContainersCount:e*t}}();Object(n.useEffect)((function(){V(t).then((function(e){!m&&e&&s(e)}))}),[m,t]);var p=function(e){return r.a.createElement("div",{className:"character-wrap",style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:d.itemHeight,width:d.itemWidth}},e)};return r.a.createElement(r.a.Fragment,null,m?r.a.createElement("div",{className:"adventure-view"},l?r.a.createElement(r.a.Fragment,null,p(r.a.createElement(Ce,{adventure:m,windowData:e.windowData,initialStep:"itemPicker"}))):r.a.createElement(r.a.Fragment,null,function(t){for(var a=[],n=0;n<d.maxContainersCount;n++)a.push(p(r.a.createElement(Ce,{adventure:t,windowData:e.windowData})));return a}(m))):r.a.createElement("div",null,"Loading . . ."))})),De=(a(423),Object(l.b)(null,null)((function(e){var t=Object(n.useState)(!0),a=Object(O.a)(t,2),i=a[0],c=a[1];return Object(n.useEffect)((function(){console.log("[CharacterCreate WORKS!!!]",null)}),[i]),r.a.createElement("div",{className:"character-create"},r.a.createElement("button",{onClick:function(){return c(!i)}},"CharacterCreate WORKS!!!"),r.a.createElement("input",{type:"text"}))}))),Te=(a(424),a(456)),Pe=(a(425),a(455)),Ae=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{title:"\u0412\u0445\u043e\u0434",visible:e.isOpened,onOk:e.onOk,onCancel:e.onClose,footer:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(){}}))},r.a.createElement(be.a,{className:"SignInForm",name:"signIn",onFinish:function(t){var a,n;(a=t.email,n=t.password,G.createUserWithEmailAndPassword(a,n).catch((function(e){return console.log(e),e}))).then((function(e){"auth/email-already-in-use"===e.code&&function(e,t){G.signInWithEmailAndPassword(e,t).catch((function(e){return console.log(e),e}))}(t.email,t.password)})).then((function(){return e.onOk()}))},onFinishFailed:function(e){console.log(e)}},r.a.createElement(be.a.Item,{name:"email",rules:[{required:!0,message:"\u041f\u043e\u043b\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"},{type:"email",message:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043f\u043e\u0447\u0442\u044b"}]},r.a.createElement(ye.a,{placeholder:"Email"})),r.a.createElement(be.a.Item,{name:"password",rules:[{required:!0,message:"\u041f\u043e\u043b\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"},{min:6,message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0438\u0437 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}]},r.a.createElement(ye.a.Password,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})),r.a.createElement("div",{className:"sign-in-buttons"},r.a.createElement(Pe.a,{title:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Google"},r.a.createElement("img",{className:"signInIcon",src:"/dmt2/img/autorization/google.svg.webp",alt:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Google",onClick:function(){return G.signInWithPopup(z).catch((function(e){return console.log(e),alert(e),e})).then((function(){return e.onOk()}))}})),r.a.createElement(be.a.Item,null,r.a.createElement(H.a,{type:"primary",htmlType:"submit"},"\u0412\u043e\u0439\u0442\u0438"))))))},Le=a(230),Re=a.n(Le),He=a(231),Me=a.n(He),Fe=a(232),Ue=a.n(Fe),We=(a(426),a(236)),Be=a(461),Ge=a(459),ze=a(466),Ke=a(467),qe=a(152),Ve=function(e){var t=Object(n.useState)(!1),a=Object(O.a)(t,2),i=a[0],c=a[1],l=Object(n.useState)(),u=Object(O.a)(l,2),m=u[0],s=u[1],d=Object(I.f)();Object(qe.auth)().onAuthStateChanged((function(){var e;s(null===(e=Object(qe.auth)().currentUser)||void 0===e?void 0:e.email)}));var p=function(e){return r.a.createElement("div",{className:"menu-list__item"},r.a.createElement(o.b,{to:e.route||d.pathname,className:"menu-list__link",onClick:e.onClick},r.a.createElement("div",{className:"menu-list__static-item"},e.icon),r.a.createElement("div",{className:i?"menu-list__text collapsed":"menu-list__text"},r.a.createElement("span",null,e.text))))},f=function(){return r.a.createElement("div",{className:"menu-list"},r.a.createElement("div",null,p({icon:r.a.createElement(Re.a,null),text:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",route:"/"}),p({icon:r.a.createElement(Me.a,null),text:"\u041f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f",route:"/adventure"}),p({icon:r.a.createElement(Oe.a,null),text:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435",route:"/adventure/create"}),p({icon:r.a.createElement(Ue.a,null),text:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430",route:"/game/adventure/view/Djadame/character/create"}),p({icon:r.a.createElement(ze.a,null),text:"Jadame",route:"/adventure/G9MSzXmwTIe16ttfHEv3"})),r.a.createElement("div",null,p({icon:r.a.createElement(We.a,{icon:r.a.createElement(Ke.a,null)}),text:(null===m||void 0===m?void 0:m.split("@")[0])||"\u0412\u0445\u043e\u0434",onClick:m?function(){return Object(qe.auth)().signOut()}:e.onSignInButtonClick}),!e.windowData.isMobile&&r.a.createElement("div",{className:"menu-list__item switch"},r.a.createElement(Be.a,{checked:!i,onChange:function(){return c(!i)}}),r.a.createElement("span",{className:i?"menu-list__text collapsed":"menu-list__text"},"COLLAPSE MENU"))))};return e.windowData.isMobile?r.a.createElement(Ge.a,{visible:e.isMenuOpened,onClose:e.onClose},r.a.createElement("div",{className:"side-menu side-menu--mobile",onClick:e.onClose,onKeyDown:e.onClose},f())):r.a.createElement("div",{className:"side-menu side-menu--desktop ".concat(i?"collapsed":""," ").concat(e.isMenuOpened?"":"closed")},f())},Je=Object(l.b)((function(e){return{windowData:e.windowData,userData:e.userData}}),{setWindow:function(){return function(){var e=Object(x.a)(N.a.mark((function e(t){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.documentElement.style.setProperty("--vh","".concat(.01*document.documentElement.clientHeight,"px")),a=document.getElementsByTagName("body")[0],n={width:a.clientWidth,height:a.clientHeight,isMobile:a.clientWidth<1024,isLandscape:a.clientWidth>a.clientHeight},t((r=n,_(C.GET_RESOLUTION,r)));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},setUser:T})((function(e){var t,a,i=.01*window.innerHeight,c=Object(n.useState)(!1),l=Object(O.a)(c,2),o=l[0],u=l[1],m=Object(n.useState)(!1),s=Object(O.a)(m,2),d=s[0],p=s[1],f={header:(null===(t=e.windowData)||void 0===t?void 0:t.isMobile)?{height:32}:{display:"none"},content:{height:(null===(a=e.windowData)||void 0===a?void 0:a.isMobile)?e.windowData.height-32:e.windowData.height,overflow:"auto"}},v=function(){e.setWindow(),document.documentElement.style.setProperty("--vh","".concat(i,"px"))};return Object(n.useEffect)((function(){return window.onresize=v,v(),function(){window.onresize=null}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app"},r.a.createElement(Ve,{windowData:e.windowData,userData:e.userData,isMenuOpened:o,onSignInButtonClick:function(){return p(!0)},onClose:function(){return u(!1)}}),r.a.createElement("div",{className:"header",style:f.header},r.a.createElement(H.a,{className:"menu-button",onClick:function(){return u(!0)}},"menu")),r.a.createElement("div",{className:"content",style:f.content},r.a.createElement(I.a,{exact:!0,path:"/",component:P}),r.a.createElement(I.a,{exact:!0,path:"/adventure",component:Y}),r.a.createElement(I.a,{exact:!0,path:"/adventure/create",component:L}),r.a.createElement(I.a,{exact:!0,path:"/adventure/:id",component:_e}),r.a.createElement(I.a,{path:"/game/adventure/view/:id/character/create",component:De}))),r.a.createElement(Ae,{isOpened:d,onOk:function(){p(!1)},onClose:function(){return p(!1)}}))})),Xe=function(){return r.a.createElement(l.a,{store:k},r.a.createElement(o.a,{basename:"/dmt2"},r.a.createElement(Je,null)))};c.a.render(r.a.createElement(Xe,null),document.getElementById("root"))}},[[243,1,2]]]);
//# sourceMappingURL=main.835b13ee.chunk.js.map