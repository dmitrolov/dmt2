(this.webpackJsonpdmt2=this.webpackJsonpdmt2||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),l=n.n(r),u=n(10),i=n(24),o=n(12),s=n(7),m=(n(75),n(5)),d=(n(76),n(125)),E=n(126),p=n(46),h=n.n(p),b=n(57),f=n.n(b),v=n(60),g=n.n(v),O=n(53),j=n.n(O),C=n(58),_=n.n(C),w=n(59),S=n.n(w),y=(n(77),function(e){var t=Object(a.useState)({isMenuCollapsed:e.isMenuCollapsed}),n=Object(s.a)(t,2),r=n[0],l=n[1],u=function(e,t,n){return c.a.createElement("div",{className:"menu-list__item"},c.a.createElement(i.b,{to:e,className:"menu-list__link"},c.a.createElement("div",{className:"menu-list__static-item"},t),c.a.createElement("div",{className:r.isMenuCollapsed?"menu-list__text collapsed":"menu-list__text"},c.a.createElement("span",null,n))))},m=function(){return c.a.createElement("div",{className:"menu-list"},c.a.createElement("div",null,u("/",c.a.createElement(j.a,null),"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),u("/adventure/create",c.a.createElement(f.a,null),"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"),u("/adventure/list",c.a.createElement(_.a,null),"\u041c\u043e\u0438 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),u("/adventure/view/Djadame/character/create",c.a.createElement(S.a,null),"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430"),u("/adventure/view/Djadame/character/view/a_a",c.a.createElement(g.a,null),"a_a char")),c.a.createElement("div",null,u("/signin",c.a.createElement(h.a,null),"\u0412\u0445\u043e\u0434"),u("/signup",c.a.createElement(h.a,null),"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),!e.isMobileMenuView&&c.a.createElement("div",{className:"menu-list__item switch"},c.a.createElement(E.a,{checked:!r.isMenuCollapsed,onChange:function(){return l(Object(o.a)(Object(o.a)({},r),{},{isMenuCollapsed:!r.isMenuCollapsed}))}}),c.a.createElement("span",{className:r.isMenuCollapsed?"menu-list__text collapsed":"menu-list__text"},"COLLAPSE MENU"))))};return e.isMobileMenuView?c.a.createElement(d.a,{open:e.isMenuOpened,onClose:e.onClose},c.a.createElement("div",{className:"side-menu side-menu--mobile",onClick:e.onClose,onKeyDown:e.onClose},m())):c.a.createElement("div",{className:"side-menu side-menu--desktop ".concat(r.isMenuCollapsed?"collapsed":""," ").concat(e.isMenuOpened?"":"closed")},m())}),M=n(35),N=n.n(M),k=n(40),A=n(22),R=n.n(A);n(84),n(86);R.a.initializeApp({apiKey:"AIzaSyCBJLGUwm3Gudef3OmMpTr4_kuAKojdHKI",authDomain:"dnd-master-tools.firebaseapp.com",databaseURL:"https://dnd-master-tools.firebaseio.com",projectId:"dnd-master-tools",storageBucket:"dnd-master-tools.appspot.com",messagingSenderId:"338033505662"});var T=function(){var e=Object(k.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.firestore().collection("playerCharacters").doc(t).get();case 2:return n=e.sent,e.abrupt("return",n.data());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=R.a,U=(n(90),{name:"",description:"",image:"",playersList:[],dungeonMaster:"",charactersList:[],notes:[]}),D=Object(u.b)(null,null)((function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)([""]),u=Object(s.a)(l,2),i=u[0],d=u[1],E=Object(m.e)(),p=[];return c.a.createElement("div",{className:"adventure-create"},c.a.createElement("span",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f*"),c.a.createElement("input",{onChange:function(e){return U.name=e.target.value}}),c.a.createElement("span",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),c.a.createElement("textarea",{onChange:function(e){return U.description=e.target.value}}),c.a.createElement("span",null,"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),c.a.createElement("input",{placeholder:"url",onChange:function(e){return U.image=e.target.value}}),c.a.createElement("span",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430"),c.a.createElement("div",null,c.a.createElement("input",{placeholder:"email",value:n,onChange:function(e){r(e.target.value)}}),c.a.createElement("button",{onClick:function(){U.playersList.push(n),r("")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),c.a.createElement("h4",null,"\u0418\u0433\u0440\u043e\u043a\u0438*:"),U.playersList.map((function(e){return c.a.createElement("span",null,e)})),c.a.createElement("h4",null,"Dungeon Master*:"),U.playersList[0],c.a.createElement("button",{onClick:function(){var e;0===U.name.length&&p.push("Adventure name should not be empty"),0===U.playersList.length&&p.push("Players list should not be empty"),d(p),console.log("[currentErrors]:",p),0===p.length&&(U.dungeonMaster=U.playersList[0],(e=U,R.a.firestore().collection("adventures").doc(e.name).set(Object(o.a)({},e))).then((function(e){return console.log("[AdventureCreate response]:",e)})),E.push("/adventure/list"))}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"),c.a.createElement("span",null,"Errors:"),i.map((function(e){return c.a.createElement("span",null,e)})))})),W=(n(91),Object(u.b)(null,null)((function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1];return R.a.firestore().collection("adventures").get().then((function(e){return e.docs.map((function(e){return e.data()}))})).then((function(e){r(e)})),Object(a.useEffect)((function(){})),c.a.createElement("div",{className:"adventure-list"},"Advenure List here",n.map((function(e){return c.a.createElement(i.b,{to:"view/".concat(e.name)},e.name)})))}))),L=(n(92),Object(u.b)(null,null)((function(e){var t=e.match.params.id,n=Object(m.e)();return c.a.createElement("div",{className:"adventure-view"},c.a.createElement("span",null,"Adventure id ",t),c.a.createElement(i.b,{to:"".concat(t,"/character/view/a_a")},"a_a"),c.a.createElement("button",{onClick:function(){return n.push("/adventure/view/".concat(t,"/character/create"))}},"Create character"))}))),I=(n(93),Object(u.b)(null,null)((function(e){var t=Object(a.useState)(!0),n=Object(s.a)(t,2),r=n[0],l=n[1];return Object(a.useEffect)((function(){console.log("[CharacterCreate WORKS!!!]",null)}),[r]),c.a.createElement("div",{className:"character-create"},c.a.createElement("button",{onClick:function(){return l(!r)}},"CharacterCreate WORKS!!!"))}))),x=(n(94),Object(u.b)(null,null)((function(e){var t=Object(a.useState)({character:void 0}),n=Object(s.a)(t,2),r=n[0],l=n[1];return Object(a.useEffect)((function(){T(e.match.params.id).then((function(e){e&&(l((function(t){return Object(o.a)(Object(o.a)({},t),{},{character:e})})),console.log("[characterData]",e))}))}),[e.match.params.id]),console.log("[state.character]",r.character),c.a.createElement("div",{className:"character-view"},r.character?c.a.createElement("div",null,c.a.createElement("img",{style:{width:100},src:r.character.about.description.imageUrl,alt:""}),c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",{key:1},c.a.createElement("td",null,"playerName"),c.a.createElement("td",null,r.character.about.info.playerName)),c.a.createElement("tr",{key:2},c.a.createElement("td",null,"characterName"),c.a.createElement("td",null,r.character.about.info.characterName)),c.a.createElement("tr",{key:3},c.a.createElement("td",null,"race"),c.a.createElement("td",null,r.character.about.info.race)),c.a.createElement("tr",{key:4},c.a.createElement("td",null,"subRace"),c.a.createElement("td",null,r.character.about.info.subRace)),c.a.createElement("tr",{key:5},c.a.createElement("td",null,"sex"),c.a.createElement("td",null,r.character.about.description.sex)),c.a.createElement("tr",{key:6},c.a.createElement("td",null,"age"),c.a.createElement("td",null,r.character.about.description.age.total)),c.a.createElement("tr",{key:7},c.a.createElement("td",null,"height"),c.a.createElement("td",null,r.character.about.description.height)),c.a.createElement("tr",{key:8},c.a.createElement("td",null,"weight"),c.a.createElement("td",null,r.character.about.description.weight)),c.a.createElement("tr",{key:9},c.a.createElement("td",null,"background"),c.a.createElement("td",null,r.character.about.info.background))))):c.a.createElement("div",null,"Loading . . ."))}))),K=(n(95),{SET_USER:"SET_USER"}),B=K,G=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:e,payload:t}}(B.SET_USER,e)},H=function(e){return function(){var t=Object(k.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={email:e.email},n(G(a));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},z=Object(u.b)((function(e){return{userData:e.userData}}),{setUser:H})((function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],l=n[1],u=document.getElementsByTagName("body")[0].clientWidth,i=document.getElementsByTagName("body")[0].clientHeight;return Object(a.useEffect)((function(){e.setUser({email:r})}),[e,r]),P.auth().onAuthStateChanged((function(){var e;l((null===(e=P.auth().currentUser)||void 0===e?void 0:e.email)||"")})),c.a.createElement("div",{className:"home"},c.a.createElement("h1",null,"Current user - [",r,"]"),c.a.createElement("button",{onClick:function(){return alert(e.userData.email)}},"Alert user data email from store"),c.a.createElement("button",{onClick:function(){return P.auth().signOut()}},"Sign out"),c.a.createElement("button",{onClick:function(){return alert(u)}},"Show client width"),c.a.createElement("button",{onClick:function(){return alert(i)}},"Show client height"))})),J=(n(96),Object(u.b)(null,{setUser:H})((function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],l=n[1],u=Object(a.useState)(""),i=Object(s.a)(u,2),o=i[0],d=i[1],E=Object(a.useState)([]),p=Object(s.a)(E,2),h=p[0],b=p[1],f=Object(m.e)();return c.a.createElement("div",{className:"sign-in"},c.a.createElement("span",null,"E-mail"),c.a.createElement("input",{value:r,onChange:function(e){var t=e.target.value;l(t)}}),c.a.createElement("span",null,"Password"),c.a.createElement("input",{type:"password",value:o,onChange:function(e){var t=e.target.value;d(t)}}),h.map((function(e){return c.a.createElement("span",null,e)})),c.a.createElement("button",{onClick:function(){0===h.length&&function(e,t){return R.a.auth().signInWithEmailAndPassword(e,t).catch((function(e){return e}))}(r,o).then((function(t){if(t.message&&b([t.message]),t.user){var n={email:t.user.email};b(["User successfully signed in"]),e.setUser(n),f.push("/")}}))}},"Sign Up"))}))),V=(n(97),Object(u.b)(null,{setUser:H})((function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],l=n[1],u=Object(a.useState)(""),i=Object(s.a)(u,2),o=i[0],d=i[1],E=Object(a.useState)([]),p=Object(s.a)(E,2),h=p[0],b=p[1],f=Object(m.e)();return Object(a.useEffect)((function(){!function(){var e=[];/\S+@\S+\.\S+/.test(String(r).toLowerCase())||e.push("The email address is badly formatted."),o.length<6&&e.push("Password should be at least 6 characters."),b(e),console.log("[validationErrors]:",e)}()}),[r,o]),c.a.createElement("div",{className:"sign-up"},c.a.createElement("span",null,"E-mail"),c.a.createElement("input",{value:r,onChange:function(e){var t=e.target.value;l(t)}}),c.a.createElement("span",null,"Password"),c.a.createElement("input",{type:"password",value:o,onChange:function(e){var t=e.target.value;d(t)}}),h.map((function(e){return c.a.createElement("span",null,e)})),c.a.createElement("button",{onClick:function(){0===h.length&&function(e,t){return R.a.auth().createUserWithEmailAndPassword(e,t).catch((function(e){return e}))}(r,o).then((function(t){if(t.message&&b([t.message]),t.user){var n={email:t.user.email};b(["User successfully created and signed in"]),e.setUser(n),f.push("/")}}))}},"Sign Up"))}))),Y=(n(98),Object(u.b)(null,null)((function(e){return c.a.createElement("div",{className:"game-menu",style:{height:30}},c.a.createElement("button",{className:"game-menu__button",onClick:function(){}},"1"),c.a.createElement("button",{className:"game-menu__button",onClick:function(){}},"2"),c.a.createElement("button",{className:"game-menu__button",onClick:e.onMenuButtonClick},"Menu"),c.a.createElement("button",{className:"game-menu__button",onClick:function(){}},"3"),c.a.createElement("button",{className:"game-menu__button",onClick:function(){}},"4"))}))),q=function(){var e=Object(a.useState)({menu:{isMobileMenu:!0,isMenuCollapsed:!1,isMenuOpened:!1},clientWindowResolution:{width:0,height:0}}),t=Object(s.a)(e,2),n=t[0],r=t[1],l=function(){var e=document.getElementsByTagName("body")[0];r({clientWindowResolution:{width:e.clientWidth,height:e.clientHeight},menu:{isMenuOpened:!(e.clientWidth<1024),isMenuCollapsed:!1,isMobileMenu:e.clientWidth<1024}})};return Object(a.useEffect)((function(){return window.onresize=l,l(),function(){window.onresize=null}}),[]),c.a.createElement("div",{className:"app",style:{width:n.clientWindowResolution.width,height:n.clientWindowResolution.height}},c.a.createElement(y,{isMobileMenuView:n.menu.isMobileMenu,isMenuCollapsed:n.menu.isMenuCollapsed,isMenuOpened:n.menu.isMenuOpened,onClose:function(){return r(Object(o.a)(Object(o.a)({},n),{},{menu:Object(o.a)(Object(o.a)({},n.menu),{},{isMenuOpened:!1})}))}}),c.a.createElement("div",{style:{width:n.clientWindowResolution.width,height:n.clientWindowResolution.height-30},className:"app__content"},c.a.createElement(m.a,{exact:!0,path:"/",component:z}),c.a.createElement(m.a,{path:"/signin",component:J}),c.a.createElement(m.a,{path:"/signup",component:V}),c.a.createElement(m.a,{path:"/adventure/create",component:D}),c.a.createElement(m.a,{path:"/adventure/list",component:W}),c.a.createElement(m.a,{exact:!0,path:"/adventure/view/:id",component:L}),c.a.createElement(m.a,{path:"/adventure/view/:id/character/create",component:I}),c.a.createElement(m.a,{path:"/adventure/view/:id/character/view/:id",component:x})),n.menu.isMobileMenu?c.a.createElement(Y,{onMenuButtonClick:function(){r(Object(o.a)(Object(o.a)({},n),{},{menu:Object(o.a)(Object(o.a)({},n.menu),{},{isMenuOpened:!n.menu.isMenuOpened})}))},clientWindowResolution:n.clientWindowResolution}):null)},F=(n(99),n(25)),Q=n(61),X=n(62),Z=n.n(X),$=n(63),ee={email:""},te=Object(F.combineReducers)({userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,n=K.SET_USER;return t.type===n?Object(o.a)({},t.payload):e}}),ne=[$.a],ae=Object({NODE_ENV:"production",PUBLIC_URL:"/dmt2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_KEY:"AIzaSyCBJLGUwm3Gudef3OmMpTr4_kuAKojdHKI",REACT_APP_AUTH_DOMAIN:"dnd-master-tools.firebaseapp.com",REACT_APP_DATABASE_URL:"https://dnd-master-tools.firebaseio.com",REACT_APP_MESSAGING_SENDER_ID:"338033505662",REACT_APP_PROJECT_ID:"dnd-master-tools",REACT_APP_STORAGE_BUCKET:"dnd-master-tools.appspot.com"}).REACT_APP_NODE_ENV;ae&&"development"===ae&&ne.push(Z.a);var ce=Object(F.createStore)(te,{},Object(Q.composeWithDevTools)(F.applyMiddleware.apply(void 0,ne))),re=function(){return c.a.createElement(u.a,{store:ce},c.a.createElement(i.a,{basename:"/dmt2"},c.a.createElement(q,null)))};l.a.render(c.a.createElement(re,null),document.getElementById("root"))},66:function(e,t,n){e.exports=n(100)},76:function(e,t,n){},77:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[66,1,2]]]);
//# sourceMappingURL=main.c563b3a0.chunk.js.map